(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{235:function(e,t,n){e.exports=n(424)},236:function(e,t,n){},424:function(e,t,n){"use strict";n.r(t);n(236),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a,r=n(31),i=n(3),o=n(4),s=n(6),l=n(5),c=n(7),u=n(36),p=n(0),d=n.n(p),m=n(166),h=n.n(m),g=n(100),b=n.n(g),f=n(101),E=n.n(f),v=n(33);!function(e){e.SELECTED="SELECTED",e.PASSED="PASSED"}(a||(a={}));var y,O,S,T,j,w,x=n(1),C=n(23),N=n(16),k=n.n(N),I=function(e,t){k()({method:"get",url:"/api/users/".concat(e,"/questions")}).then(function(e){var n=e.data;t(n)}).catch(function(e){return console.log(e)})},D=function(e,t){k()({method:"get",url:"/api/users/".concat(e,"/answers")}).then(function(e){var n=e.data;t(n)}).catch(function(e){return console.log(e)})},_=n(177),U=n.n(_),L=n(168),A=n.n(L),R=n(167),B=n.n(R),q=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme,a=e.toggleTheme;return p.createElement("div",{className:t.root},p.createElement("div",{className:t.toggleThemeButtonContainer},p.createElement(x.p,{onClick:a},n===Ht.LIGHT&&p.createElement(B.a,{className:t.lightIcon}),n===Ht.DARK&&p.createElement(A.a,{className:t.darkIcon}))))}}]),t}(p.Component),F=Object(u.withStyles)(function(e){return{root:{display:"flex"},toggleThemeButtonContainer:{marginLeft:"auto",marginRight:"5px",marginBottom:"5px"}}})(q),P=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme,a=e.toggleTheme;return p.createElement("div",{className:t.root},p.createElement(F,{theme:n,toggleTheme:a}))}}]),t}(p.Component),Q=Object(u.withStyles)(function(e){return{root:{position:"fixed",bottom:0,width:"100%"}}})(P),M=n(30),H=n(17);!function(e){e[e.SIGNED_IN=0]="SIGNED_IN",e[e.SIGNED_OUT=1]="SIGNED_OUT",e[e.SIGNING_IN=2]="SIGNING_IN"}(T||(T={})),function(e){e[e.NO_REQUEST=0]="NO_REQUEST",e[e.SENDING_REQUEST=1]="SENDING_REQUEST",e[e.RESQUEST_SENT=2]="RESQUEST_SENT"}(j||(j={})),function(e){e[e.SIGNED_UP=0]="SIGNED_UP",e[e.SIGNING_UP=1]="SIGNING_UP",e[e.SIGNED_OUT=2]="SIGNED_OUT"}(w||(w={}));var G,W,z=(y={},Object(H.a)(y,T.SIGNED_IN,"Logged In"),Object(H.a)(y,T.SIGNED_OUT,"Log In"),Object(H.a)(y,T.SIGNING_IN,"Logging In"),y),Y=(O={},Object(H.a)(O,w.SIGNED_UP,"Registered"),Object(H.a)(O,w.SIGNING_UP,"Registering"),Object(H.a)(O,w.SIGNED_OUT,"Register"),O),V=(S={},Object(H.a)(S,j.NO_REQUEST,"Reset Password"),Object(H.a)(S,j.SENDING_REQUEST,"Sending"),Object(H.a)(S,j.RESQUEST_SENT,"Password Reset Sent"),S),Z=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={nickname:"",email:"",password:"",loading:!1,currentState:"signIn",states:{signIn:{toggleText:"Don't have an account?",linkText:"Register",errorText:"",state:T.SIGNED_OUT},signUp:{toggleText:"Already have an account?",linkText:"Log In",errorText:"",state:w.SIGNED_OUT},resetPassword:{toggleText:"Remember your password?",linkText:"Log In",errorText:"",state:j.NO_REQUEST}}},n.handleNicknameChange=function(e){n.setState({nickname:e.target.value})},n.handleEmailChange=function(e){n.setState({email:e.target.value})},n.handlePasswordChange=function(e){n.setState({password:e.target.value})},n.signIn=function(){console.log("[signIn]");var e=n.props.handleSignIn,t=n.state,a=t.email,r=t.password,i=t.states,o=i.signIn;k()({method:"post",url:"/login",params:{email:a,password:r}}).then(function(t){console.log("[signIn].then");var n=t.data,a=n.id,r=n.avatar_url,i=n.nickname,o=n.email,s=n.phone,l=n.is_mentor,c=n.tags;e({id:a,nickname:i,email:o,phone:s,avatar_url:r,is_mentor:l,tags:c})}).catch(function(e){if(e.response){var t=e.response.data.error;o.state=T.SIGNED_OUT,o.errorText=t,n.setState({states:i})}})},n.signUp=function(){var e=n.props.handleSignIn,t=n.state,a=t.nickname,r=t.email,i=t.password,o=t.states,s=o.signUp;k()({method:"post",url:"/register",params:{nickname:a,email:r,password:i}}).then(function(t){var a=t.data,r=a.id,i=a.avatar_url,l=a.nickname,c=a.email,u=a.phone,p=a.is_mentor,d=a.tags;e({id:r,nickname:l,email:c,phone:u,avatar_url:i,is_mentor:p,tags:d}),s.state=w.SIGNED_UP,n.setState({states:o})}).catch(function(e){if(e.response){var t=e.response.data.error;s.state=w.SIGNED_OUT,s.errorText=t,n.setState({states:o})}})},n.submitForm=function(e){e&&e.preventDefault();var t=n.state,a=t.currentState,r=t.states,i=r.signIn,o=r.signUp;"signIn"===a&&(i.state=T.SIGNING_IN,n.setState({states:r},function(){n.signIn()})),"signUp"===a&&(o.state=w.SIGNING_UP,n.setState({states:r},function(){n.signUp()}))},n.handleChangeAuthDialogState=function(e){n.setState({currentState:e})},n.showPasswordReset=function(){n.handleChangeAuthDialogState("resetPassword")},n.toggleSignUp=function(){"signIn"===n.state.currentState?n.handleChangeAuthDialogState("signUp"):n.handleChangeAuthDialogState("signIn")},n.getActiveText=function(e,t){var n="";if(null!==e)switch(t){case"signIn":n=z[e];break;case"signUp":n=Y[e];break;case"resetPassword":n=V[e]}else console.log("aaaa");return n},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.currentState,a=t.email,r=t.nickname,i=t.password,o=t.states,s=this.props.classes,l=o[n].state,c=o[n].errorText,u=o[n].toggleText,d=o[n].linkText,m=this.getActiveText(l,n);return p.createElement("div",{className:s.root},p.createElement("form",{className:s.authForm,onSubmit:function(t){return e.submitForm(t)},id:"auth-form"},"signUp"===n&&p.createElement(x.l,{fullWidth:!0,error:c.length>0,required:!0,className:s.formControl},p.createElement(x.r,{htmlFor:"inputNickname"},"Nickname"),p.createElement(x.q,{id:"inputNickname",value:r,autoFocus:!0,type:"text",autoComplete:"username",onChange:this.handleNicknameChange}),p.createElement(x.n,{id:"inputEmailError"},c)),p.createElement(x.l,{required:!0,fullWidth:!0,className:s.formControl,error:c.length>0},p.createElement(x.r,{htmlFor:"inputEmail"},"Email Address"),p.createElement(x.q,{id:"inputEmail",value:a,autoFocus:!0,type:"email",autoComplete:"email",onChange:this.handleEmailChange,className:s.input}),p.createElement(x.n,{id:"inputEmailError"},c)),"resetPassword"!==n&&p.createElement(x.l,{required:!0,fullWidth:!0,className:s.formControl,error:c.length>0},p.createElement(x.r,{htmlFor:"inputPassword"},"Password"),p.createElement(x.q,{id:"inputPassword",value:i,type:"password",autoComplete:"current-password",onChange:this.handlePasswordChange}),p.createElement(x.n,{id:"inputPasswordError"},c)),p.createElement("button",{style:{display:"none"},type:"submit"})),p.createElement(x.d,{variant:"contained",color:"primary",fullWidth:!0,onClick:this.submitForm},m),p.createElement("div",{className:s.extraActions},"resetPassword"!==n&&p.createElement(p.Fragment,null,p.createElement("div",{role:"button",className:s.forgotPassword,onClick:this.showPasswordReset},p.createElement(x.H,{color:"primary",variant:"caption"},"Forgot Password?")),p.createElement(x.H,{className:s.separator,variant:"caption"},"\u2022")),p.createElement(x.H,{variant:"caption"},u),p.createElement("div",{role:"button",className:s.signUp,onClick:this.toggleSignUp},p.createElement(x.H,{color:"primary",variant:"caption"},"\xa0",d))))}}]),t}(p.Component),X=Object(u.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,height:"100%",width:"100%",display:"flex",flexWrap:"wrap",borderWidth:"1px",borderStyle:"solid",borderColor:e.palette.primary.main,borderRadius:"10px",paddingTop:3*e.spacing.unit,paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit},authForm:{width:"100%"},extraActions:{display:"flex",textAlign:"center",marginLeft:"auto",marginRight:"auto",padding:e.spacing.unit},formControl:{marginBottom:2*e.spacing.unit},forgotPassword:{"&:hover":{cursor:"pointer"}},hidden:{display:"none"},signUp:{"&:hover":{cursor:"pointer"}},separator:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},input:{backgroundColor:"transparent",border:"none",color:e.palette.text.primary,"&::-webkit-autofill":{color:e.palette.text.primary,backgroundColor:e.palette.background.default}}}})(Z),K=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleSignIn;return p.createElement(x.o,{item:!0,xs:10,sm:6,md:4,lg:4,className:t.root},p.createElement(X,{handleSignIn:n}))}}]),t}(p.Component),J=Object(u.withStyles)(function(e){return{root:{marginTop:"auto",marginBottom:"auto",display:"flex",flexWrap:"wrap"}}})(K),$=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.handleFinishLoading()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleSignIn;return p.createElement("div",{className:t.root},p.createElement(x.o,{container:!0,justify:"center"},p.createElement(J,{handleSignIn:n})))}}]),t}(p.Component),ee=Object(u.withStyles)(function(e){return{root:{width:"100%",marginTop:"-90px",display:"flex"}}})($),te=n(40),ne=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes;return p.createElement("div",{className:n.inputContainer},p.createElement("div",{className:n.inputLeftPadding},t))}}]),t}(p.Component),ae=Object(u.withStyles)(function(e){return{root:{},inputLeftPadding:{width:"100%",display:"flex",paddingLeft:"20px"},inputContainer:{backgroundColor:e.palette.background.paper,display:"flex",borderWidth:"1px",borderStyle:"solid",borderColor:e.palette.primary.light,boxShadow:"none",borderRadius:"24px",zIndex:3,margin:"8px auto",height:"100%"}}})(ne),re=n(75),ie=n.n(re),oe=n(41);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.EXPANDED=1]="EXPANDED"}(W||(W={}));var se,le,ce=(G={},Object(H.a)(G,W.DEFAULT,{min:1}),Object(H.a)(G,W.EXPANDED,{min:8}),G),ue=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).inputRef=void 0,n.state={disableInputIcon:!1},n.handleHeightChange=function(e){var t=n.props,a=t.inputState,r=t.setInputStateToExpanded;n.inputRef&&a===W.DEFAULT&&e>15&&r()},n._handleChange=function(e){n.props.handleChange(e.target.value)},n.state={disableInputIcon:!1},n.inputRef=null,n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.disableInputIcon,n=this.props,a=n.classes,r=n.content,i=n.handleSubmit,o=n.inputState;return p.createElement(p.Fragment,null,p.createElement(oe.a,{inputRef:function(t){return e.inputRef=t},className:a.input,onHeightChange:function(t){return e.handleHeightChange(t)},minRows:ce[o].min,name:"question",placeholder:"Ask a Question",autoFocus:!0,required:!0,value:r,onChange:this._handleChange}),p.createElement(x.G,{title:"Submit Question",placement:"right"},p.createElement(x.p,{className:a.inputIcon,onClick:i,disabled:t,tabIndex:-1},p.createElement(ie.a,null))))}}]),t}(p.Component),pe=Object(u.withStyles)(function(e){return{root:{},input:{backgroundColor:"transparent",border:"none",paddingTop:"16.5px",paddingBottom:"16.5px",color:e.palette.text.primary,wordWrap:"break-word",outline:"none",resize:"none",width:"calc(100% - 24px)",fontFamily:"monospace","&::placeholder":{opacity:.65,color:e.palette.text.primary}},inputIcon:{"&:hover":{backgroundColor:"rgba(0,0,0,0)"}},inputElementsContainer:{display:"flex",width:"100%"},inputPadding:{flex:1,display:"flex",paddingLeft:"20px"}}})(ue),de=n(76),me=n(10),he=n.n(me),ge=n(39),be=ge.a.div({hidden:{opacity:0,transition:{duration:450}},visible:{opacity:1,transition:{duration:450}}}),fe=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={selectValue:""},n.handleSelectChange=function(e){n.props.handleSelectTag(e.id),n.setState({selectValue:""})},n.handleSelectValueChange=function(e){n.setState({selectValue:e.target.value})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.selectedTags,a=e.tags;return p.createElement(p.Fragment,null,p.createElement(de.a,{id:"downshift-select",onChange:this.handleSelectChange,itemToString:function(e){return e?e.name:""}},function(e){var r=e.getInputProps,i=e.getItemProps,o=e.getMenuProps,s=e.highlightedIndex,l=e.inputValue,c=e.isOpen,u=(e.selectedItem,e.clearSelection,l&&l.toLocaleLowerCase());return p.createElement("div",{className:t.container},p.createElement("input",Object.assign({className:t.input},r(),{placeholder:"Add a category"})),p.createElement("div",o(),p.createElement(be,{pose:c?"visible":"hidden",className:t.selectMenu},c&&p.createElement(x.x,{className:t.paper,elevation:4},a.filter(function(e){return!n.includes(e.id)}).filter(function(e){var t=e.name.toLocaleLowerCase();return!u||t.includes(u)}).slice(0,30).map(function(e,n){var a=e.id,r=e.name;return p.createElement("li",Object.assign({},i({item:{id:a,name:r}}),{className:he()(t.listItem,s===n&&t.highlighted),key:a,value:r,tabIndex:0}),e.name)})))))}))}}]),t}(p.Component),Ee=Object(u.withStyles)(function(e){return{root:{},container:{width:"calc(100% - 12px)",zIndex:9999,position:"relative"},input:{backgroundColor:"transparent",border:"none",color:e.palette.text.primary,wordWrap:"break-word",outline:"none",width:"100%",fontFamily:"monospace",paddingTop:"16.5px",paddingBottom:"16.5px","&::placeholder":{opacity:.65,color:e.palette.text.primary}},listItem:{backgroundColor:"transparent",color:e.palette.text.primary,paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:2*e.spacing.unit,display:"block",cursor:"pointer"},selectedTagsContainer:{marginTop:"8px"},paper:{maxHeight:"300px",overflowY:"scroll"},highlighted:{backgroundColor:e.palette.background.default},selectMenu:{marginTop:"5px",opacity:0}}})(fe),ve=n(169),ye=n.n(ve),Oe=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).getTagById=function(e){for(var t=n.props.tags,a=t.length,r={},i=0;i<a;i+=1)if(t[i].id===e){r=t[i];break}return r},n.handleDelete=function(e){n.props.handleDeleteTag(e)},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.selectedTags;return p.createElement("div",{className:n.selectedTagsContainer},a.map(function(t){return p.createElement(x.f,{key:t,className:n.selectedTag,label:e.getTagById(t).name,onDelete:function(){return e.handleDelete(t)},deleteIcon:p.createElement(ye.a,{className:n.deleteIcon})})}))}}]),t}(p.Component),Se=Object(u.withStyles)(function(e){return{root:{},selectedTagsContainer:{marginTop:e.spacing.unit,zIndex:-1},selectedTag:{backgroundColor:"rgba(0,0,0,0)",borderColor:e.palette.primary.main,borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing.unit/2,marginBottom:e.spacing.unit/2},deleteIcon:{color:e.palette.primary.main}}})(Oe),Te=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r))))._handleChange=function(e){n.props.handleChange(e.target.value)},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.title;return p.createElement("input",{className:t.input,type:"text",placeholder:"Enter a title (optional)",value:n,onChange:this._handleChange})}}]),t}(p.Component),je=Object(u.withStyles)(function(e){return{input:{backgroundColor:"transparent",border:"none",paddingTop:"16.5px",paddingBottom:"16.5px",color:e.palette.text.primary,wordWrap:"break-word",outline:"none",resize:"none",width:"calc(100% - 24px)",fontFamily:"monospace","&::placeholder":{opacity:.65,color:e.palette.text.primary}}}})(Te);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.EXPANDED=1]="EXPANDED"}(se||(se={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SUBMITTED=1]="SUBMITTED"}(le||(le={}));var we,xe=750,Ce=ge.a.div({hidden:{opacity:0},visible:{opacity:1}}),Ne=ge.a.div({hidden:{opacity:0,transition:{duration:xe}},visible:{opacity:1,transition:{duration:xe}}}),ke=ge.a.div({default:{height:"50px",transition:{duration:300,ease:"easeOut"}},expanded:{height:"155px",transition:{type:"spring",stiffness:150}}}),Ie=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).heightRef=void 0,n.handleSubmit=function(e){e&&e.preventDefault();var t=n.state,a=t.content,r=t.title,i=t.selectedTags;a.length>0&&i.length>0?k()({method:"post",url:"/api/questions",params:{title:r,content:a,tags:i}}).then(function(e){var t=e.data.id;n.setSubmissionStateToSubmitted(t)}).catch(function(e){return console.log(e)}):alert("Fill in the form! Replace me with actual error text in the form!")},n.toggleInputState=function(){n.setState(function(e){return{inputState:1-e.inputState}})},n.setInputStateToDefault=function(){n.setState({inputState:se.DEFAULT})},n.setInputStateToExpanded=function(){n.setState({inputState:se.EXPANDED})},n.setSubmissionStateToSubmitted=function(e){var t=n.props.history;n.setState({submissionState:le.SUBMITTED},function(){return setTimeout(function(){t.push("/results/".concat(e))},xe)})},n.setHeightRef=function(){n.heightRef.current.style.height="auto"},n.handleSelectTag=function(e){n.setState({selectedTags:[].concat(Object(te.a)(n.state.selectedTags),[e])})},n.handleDelete=function(e){var t=Object(te.a)(n.state.selectedTags);t.splice(t.indexOf(e),1),n.setState({selectedTags:t})},n.handleChangeContent=function(e){n.setState({content:e})},n.handleChangeTitle=function(e){n.setState({title:e})},n.state={content:"",title:"",inputState:se.DEFAULT,submissionState:le.DEFAULT,selectedTags:[]},n.heightRef=p.createRef(),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.selectedTags,a=t.inputState,r=t.title,i=t.content,o=t.submissionState,s=this.props,l=s.classes,c=s.tags;return p.createElement(Ne,{className:l.root,pose:o===le.DEFAULT?"visible":"hidden"},p.createElement("form",{onSubmit:this.handleSubmit},p.createElement(Ce,{pose:a===se.EXPANDED?"visible":"hidden"},a===se.EXPANDED&&p.createElement(ae,null,p.createElement(je,{key:"title",title:r,handleChange:this.handleChangeTitle}))),p.createElement(ke,{ref:this.heightRef,onPoseComplete:function(){e.setHeightRef()},pose:a===se.EXPANDED?"expanded":"default"},p.createElement(ae,null,p.createElement(pe,{key:"content",inputState:a,content:i,handleChange:this.handleChangeContent,handleSubmit:this.handleSubmit,toggleInputState:this.toggleInputState,setInputStateToDefault:this.setInputStateToDefault,setInputStateToExpanded:this.setInputStateToExpanded}))),p.createElement("div",{style:{height:"50px"}},p.createElement(ae,null,p.createElement(Ee,{key:"select",handleSelectTag:this.handleSelectTag,selectedTags:n,tags:c}))),p.createElement(Se,{key:"tags",handleDeleteTag:this.handleDelete,selectedTags:n,tags:c}),p.createElement("button",{type:"submit",style:{display:"none"}})))}}]),t}(p.Component),De=Object(C.f)(Object(u.withStyles)(function(e){return{root:{width:"100%",height:"100%"},tagSelect:{width:"100%",backgroundColor:"white"},selectPadding:{paddingRight:"12px"},link:{textDecoration:"none"},searchButton:{padding:"15px 30px 14px",height:"60px",textTransform:"uppercase",fontWeight:"bold",fontSize:"1rem",borderRadius:"0px",letterSpacing:2},selectedTagsContainer:{width:"100%",display:"flex",flexWrap:"wrap"}}})(Ie)),_e=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.tags;return p.createElement(x.o,{item:!0,xs:10,sm:8,md:6,lg:4,className:t.root},p.createElement(De,{tags:n}))}}]),t}(p.Component),Ue=Object(u.withStyles)(function(e){return{root:{margin:"auto",display:"flex",width:"40%",position:"relative"}}})(_e),Le=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.handleFinishLoading()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.tags;return p.createElement("div",{className:t.root},p.createElement(x.o,{container:!0,justify:"center"},p.createElement(Ue,{tags:n})))}}]),t}(p.Component),Ae=Object(u.withStyles)(function(e){return{root:{width:"100%",marginTop:"-90px",display:"flex"}}})(Le),Re=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.classes;return p.createElement("div",{className:e.root})}}]),t}(p.Component),Be=Object(u.withStyles)(function(e){return{root:{}}})(Re),qe=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.tags;return p.createElement("div",{className:t.root},p.createElement(x.o,{container:!0,justify:"center"},p.createElement(Be,{tags:n})))}}]),t}(p.Component),Fe=Object(u.withStyles)(function(e){return{root:{height:"100%",width:"100%",display:"flex",marginTop:"-45px"}}})(qe),Pe=n(51),Qe=n(171),Me=n(25),He=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={errorText:""},n.handleLink=function(e){n.props.history.push("/results/".concat(e))},n.getTagById=function(e){for(var t=n.props.tags,a=t.length,r={},i=0;i<a;i+=1)if(t[i].id===e){r=t[i];break}return r},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.questions;return p.createElement(x.x,{className:n.paper,elevation:4},p.createElement(x.A,{className:n.table,padding:"dense"},p.createElement(x.D,{className:n.tableHeader},p.createElement(x.E,null,p.createElement(x.C,null,"Date"),p.createElement(x.C,null,"Title"),p.createElement(x.C,null,"Question"),p.createElement(x.C,null,"Tags"),p.createElement(x.C,null,"Status"))),p.createElement(x.B,{className:n.tableBody},a.sort(function(e,t){return new Date(e.created_at)>new Date(t.created_at)?-1:1}).map(function(t,a){var r=new Date(t.created_at);return p.createElement(x.E,{key:a,onClick:function(){return e.handleLink(t.id)},className:he()(n.tableRow,t.is_dirty&&n.dirty),hover:!0},p.createElement(x.C,null,"".concat(r.toLocaleDateString(),"\n").concat(r.toLocaleTimeString())),p.createElement(x.C,null,t.title.length>0&&"".concat(t.title.substr(0,20)),t.title.length>20&&"..."),p.createElement(x.C,{style:{wordWrap:"break-word"}},"".concat(t.content.substr(0,20)),t.content.length>20&&"..."),p.createElement(x.C,null,t.tags.map(function(t,a){return p.createElement(x.f,{key:a,className:n.chip,label:e.getTagById(t).name})})),p.createElement(x.C,null,t.question_status&&t.question_status.status))}))))}}]),t}(p.Component),Ge=Object(C.f)(Object(u.withStyles)(function(e){return{root:{},dirty:{backgroundColor:"light"===e.palette.type?Object(Me.lighten)(e.palette.primary.main,.75):Object(Me.darken)(e.palette.primary.main,.75)},loading:{margin:"auto"},loadingContainer:{display:"flex",width:"25%",height:"25%",margin:"auto"},table:{overflowY:"scroll"},tableRow:{cursor:"pointer"},tableHeader:{position:"sticky",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)"},tableBody:{overflowY:"scroll"},chip:{backgroundColor:"rgba(0, 0, 0, 0)",borderColor:e.palette.primary.main,borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing.unit/2,marginBottom:e.spacing.unit/2}}})(He)),We=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.handleFinishLoading()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.questions,a=e.tags,r=e.user;return p.createElement("div",{className:t.root},p.createElement(x.o,{container:!0,spacing:8,className:t.contentContainer},p.createElement(x.o,{item:!0,xs:12,sm:8},p.createElement(Ge,{questions:n,tags:a,userId:r.id}))))}}]),t}(p.Component),ze=Object(C.f)(Object(u.withStyles)(function(e){return{root:{padding:2*e.spacing.unit},contentContainer:{color:e.palette.text.primary},divider:{color:Object(Me.darken)(e.palette.primary.main,.1)},table:{overflowY:"scroll"},tableRow:{cursor:"pointer"},chip:{backgroundColor:"rgba(0, 0, 0, 0)",borderColor:e.palette.primary.main,borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing.unit/2,marginBottom:e.spacing.unit/2}}})(We)),Ye=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={errorText:""},n.handleLink=function(e){n.props.history.push("/results/".concat(e))},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.answers;return p.createElement(x.x,{className:n.paper,elevation:4},p.createElement(x.A,{className:n.table,padding:"dense"},p.createElement(x.D,{className:n.tableHeader},p.createElement(x.E,null,p.createElement(x.C,null,"Date"),p.createElement(x.C,null,"Answer"),p.createElement(x.C,null,"Selected"))),p.createElement(x.B,{className:n.tableBody},a.sort(function(e,t){return new Date(e.created_at)>new Date(t.created_at)?-1:1}).map(function(t,a){var r=new Date(t.created_at);return p.createElement(x.E,{key:a,onClick:function(){return e.handleLink(t.question_id)},className:n.tableRow,hover:!0},p.createElement(x.C,null,"".concat(r.toLocaleDateString(),"\n").concat(r.toLocaleTimeString())),p.createElement(x.C,{style:{wordWrap:"break-word"}},"".concat(t.content.substr(0,20)),t.content.length>20&&"..."),p.createElement(x.C,null,t.selected.toString()))}))))}}]),t}(p.Component),Ve=Object(C.f)(Object(u.withStyles)(function(e){return{root:{},dirty:{backgroundColor:"light"===e.palette.type?Object(Me.lighten)(e.palette.primary.main,.75):Object(Me.darken)(e.palette.primary.main,.75)},loading:{margin:"auto"},loadingContainer:{display:"flex",width:"25%",height:"25%",margin:"auto"},table:{overflowY:"scroll"},tableRow:{cursor:"pointer"},tableHeader:{position:"sticky",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)"},tableBody:{overflowY:"scroll"},chip:{backgroundColor:"rgba(0, 0, 0, 0)",borderColor:e.palette.primary.main,borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing.unit/2,marginBottom:e.spacing.unit/2}}})(Ye)),Ze=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={questions:[]},n._handleDeleteTag=function(e){var t=n.props,a=t.editUser,i=t.user,o=i.tags;if(o){var s=o.filter(function(t){return t!==e});k()({method:"delete",url:"/api/user_tags/".concat(e)}).then(function(e){var t=Object(r.a)({},i);t.tags=s,a(t)}).catch(function(e){return console.log(e)})}},n._handleSelectTag=function(e){var t=n.props,a=t.editUser,i=t.user;i.tags&&k()({method:"post",url:"/api/user_tags",params:{tags:[e]}}).then(function(t){var n=Object(r.a)({},i);n.is_mentor=!0,n.tags=[].concat(Object(te.a)(i.tags),[e]),a(n)}).catch(function(e){return console.log(e)})},n.toggleMentorStatus=function(){var e=n.props,t=e.editUser,a=e.user;k()({method:"put",url:"/api/users/".concat(a.id),params:{is_mentor:!1}}).then(function(e){var n=Object(r.a)({},a);n.is_mentor=!1,t(n)}).catch(function(e){return console.log(e)})},n.refreshAnswers=function(){var e=n.props,t=e.setAnswers,a=e.user;D(a.id,function(e){t(e)})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.answers,a=t.user,r=t.tags;return p.createElement(x.o,{container:!0,spacing:8},p.createElement(x.o,{item:!0,xs:4},p.createElement(x.d,{disabled:!a.is_mentor,onClick:this.toggleMentorStatus},"Stop Being a Mentor (TESTING)"),p.createElement(x.H,{variant:"subtitle1"},"Add New Categories"),p.createElement("div",{style:{height:"50px"}},p.createElement(ae,null,p.createElement(Ee,{handleSelectTag:function(t){e._handleSelectTag(t)},selectedTags:a.tags,tags:r}))),p.createElement(Se,{handleDeleteTag:function(t){e._handleDeleteTag(t)},selectedTags:a.tags,tags:r})),p.createElement(x.o,{item:!0,xs:8},p.createElement(Ve,{answers:n})))}}]),t}(p.Component),Xe=Object(u.withStyles)(function(e){return{root:{}}})(Ze),Ke=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={selectedTags:[]},n.handleSubmit=function(e){var t=n.props,a=t.closeDialog,i=t.editUser,o=t.user;e&&e.preventDefault();var s=n.state.selectedTags;s.length>0?k()({method:"put",url:"/api/users/".concat(o.id),params:{is_mentor:!0}}).then(function(e){k()({method:"post",url:"/api/user_tags",params:{tags:s}}).then(function(e){var t=Object(r.a)({},o);t.is_mentor=!0,t.tags=s,i(t),a()}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)}):alert("Fill in the form! Replace me with actual error text in the form!")},n.handleSelectTag=function(e){n.setState({selectedTags:[].concat(Object(te.a)(n.state.selectedTags),[e])})},n.handleDeleteTag=function(e){var t=Object(te.a)(n.state.selectedTags);t.splice(t.indexOf(e),1),n.setState({selectedTags:t})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.selectedTags,t=this.props,n=t.classes,a=t.open,r=t.closeDialog,i=t.tags;return p.createElement(x.h,{open:a,onClose:r,fullWidth:!0,className:n.dialog,maxWidth:"sm",classes:{paper:n.paper}},p.createElement(x.k,null,"Register as a Mentor"),p.createElement(x.i,null,p.createElement(x.j,null,"By becoming a Mentor and setting your areas of expertise, you will be able to be join a queue where you will be selected to answer questions, earning money per question answered."),p.createElement("br",null),p.createElement(x.j,null,"Please note that the quality of your answers are important. Not everyone is suited to be a Mentor. Please only select areas are you an expert in."),p.createElement("br",null),p.createElement(x.H,{variant:"subtitle1"},"Select Area of Expertise:"),p.createElement("div",{style:{height:"50px"}},p.createElement(ae,null,p.createElement(Ee,{handleSelectTag:this.handleSelectTag,selectedTags:e,tags:i}))),p.createElement("br",null),e.length>0&&p.createElement(p.Fragment,null,p.createElement(x.H,{variant:"subtitle1"},"Your Areas of Expertise:"),p.createElement(Se,{handleDeleteTag:this.handleDeleteTag,selectedTags:e,tags:i}))),p.createElement(x.d,{onClick:this.handleSubmit,disabled:0===e.length,fullWidth:!0,size:"large",variant:"contained",color:"primary"},"Become a Mentor"))}}]),t}(p.Component),Je=Object(u.withStyles)(function(e){return{root:{},paper:{transition:"all 1s ease-out"},submitButton:{borderRadius:0}}})(Ke),$e=n(172),et=n.n($e).a.tz.names(),tt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={nicknameText:n.props.user.nickname,passwordText:"",passwordConfirmText:"",passwordErrorText:"",mentorDialogOpen:n.props.mentorDialogOpen},n.handleSelectChange=function(e){n.props.setTimeZone(e)},n.handleTextChange=function(e){n.setState(Object(H.a)({},e.target.id,e.target.value))},n._changeNickname=function(e){e&&e.preventDefault();var t=n.state.nicknameText,a=n.props,i=a.editUser,o=a.user,s=Object(r.a)({},o);s.nickname=t,i(s)},n._changePassword=function(e){e&&e.preventDefault();var t=n.state;t.passwordText!==t.passwordConfirmText&&n.setState({passwordErrorText:"Your passwords do not match!"})},n.toggleMentorDialog=function(){n.setState(function(e){return{mentorDialogOpen:!e.mentorDialogOpen}})},n.openMentorDialog=function(){n.setState({mentorDialogOpen:!0})},n.closeMentorDialog=function(){n.setState({mentorDialogOpen:!1})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.handleFinishLoading)()}},{key:"render",value:function(){var e=this.state,t=e.nicknameText,n=e.mentorDialogOpen,a=this.props,r=a.classes,i=a.editUser,o=a.tags,s=a.toggleTheme,l=a.user,c=a.userSettings;return p.createElement(p.Fragment,null,p.createElement(Je,{editUser:i,open:n,closeDialog:this.closeMentorDialog,tags:o,user:l}),p.createElement(x.o,{container:!0,spacing:24,className:r.root},p.createElement(x.o,{item:!0,xs:6},p.createElement(x.m,{control:p.createElement(x.e,{color:"primary",onChange:s,checked:c.themeType===Ht.DARK}),label:"Dark Mode"})),p.createElement(x.o,{item:!0,xs:6},p.createElement("label",{id:"select-timezone-label"},"Timezone"),p.createElement(de.a,{id:"downshift-select-timezone",onChange:this.handleSelectChange,initialInputValue:c.timeZone,labelId:"select-timezone-label"},function(e){var t=e.getInputProps,n=e.getItemProps,a=e.getMenuProps,i=e.highlightedIndex,o=e.inputValue,s=e.isOpen,l=(e.selectedItem,e.clearSelection,o&&o.toLocaleLowerCase());return p.createElement("div",{className:r.container},p.createElement("input",Object.assign({className:r.input},t(),{placeholder:"Select timezone"})),p.createElement("div",a(),s&&p.createElement(x.x,{className:r.paper,elevation:4},et.filter(function(e){var t=e.toLocaleLowerCase();return!l||t.includes(l)}).slice(0,30).map(function(e,t){return p.createElement("li",Object.assign({},n({item:e}),{className:he()(r.listItem,i===t&&r.highlighted),key:"".concat(e,"-").concat(t),value:e,tabIndex:0}),e)}))))})),p.createElement(x.o,{item:!0,xs:6},p.createElement("form",{onSubmit:this._changeNickname},p.createElement(x.l,{className:r.formControl},p.createElement(x.r,{htmlFor:"nicknameText"},"Change Nickname"),p.createElement(x.q,{id:"nicknameText",value:t,type:"text",onChange:this.handleTextChange})),p.createElement("button",{type:"submit",style:{display:"none"}}))),!l.is_mentor&&p.createElement(x.o,{item:!0,xs:6},p.createElement(x.d,{onClick:this.openMentorDialog},"Become A Mentor"))))}}]),t}(p.Component),nt=Object(u.withStyles)(function(e){return{root:{},container:{width:"calc(100% - 12px)",zIndex:1},input:{backgroundColor:"transparent",border:"none",color:e.palette.text.primary,wordWrap:"break-word",outline:"none",width:"100%",fontFamily:"monospace",paddingTop:"16.5px",paddingBottom:"16.5px","&::placeholder":{opacity:.65,color:e.palette.text.primary}},listItem:{backgroundColor:"transparent",color:e.palette.text.primary,paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:2*e.spacing.unit,display:"block",cursor:"pointer"},selectedTagsContainer:{marginTop:"8px"},paper:{maxHeight:"300px",overflowY:"scroll",position:"absolute",zIndex:99},highlighted:{backgroundColor:e.palette.background.default}}})(tt),at=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).getTabContent=function(){var e=n.props,t=(e.classes,e.currentTab),a=e.editUser,r=e.handleFinishLoading,i=e.answers,o=e.setAnswers,s=e.questions,l=e.setQuestions,c=e.tags,u=e.user,d=Object(Pe.a)(e,["classes","currentTab","editUser","handleFinishLoading","answers","setAnswers","questions","setQuestions","tags","user"]);switch(t){case we.Home:return p.createElement(ze,{handleFinishLoading:r,tags:c,user:u,questions:s,setQuestions:l});case we.MentorPanel:return p.createElement(Xe,{editUser:a,handleFinishLoading:r,user:u,tags:c,answers:i,setAnswers:o});case we.Settings:return p.createElement(nt,Object.assign({user:u,editUser:a,tags:c,handleFinishLoading:r},d));default:return p.createElement("div",null,"NOT FOUND")}},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.loading;return p.createElement(x.x,{className:t.full,elevation:4},n&&p.createElement("div",{className:t.loadingContainer},p.createElement(x.g,{className:t.loading,size:96})),p.createElement("div",{className:he()(t.contentContainer,n&&t.hidden)},this.getTabContent()))}}]),t}(p.Component),rt=Object(u.withStyles)(function(e){return{root:{},full:{height:"100%",width:"100%"},loading:{margin:"auto"},loadingContainer:{display:"flex",width:"25%",height:"25%",margin:"auto"},hidden:{display:"none"},contentContainer:{color:e.palette.text.primary,padding:2*e.spacing.unit}}})(at),it=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.currentTab,a=e.handleClick,r=e.tabs;return p.createElement(x.x,{className:t.root,elevation:4},p.createElement(x.s,{className:t.profileTabList},r.filter(function(e){return isNaN(parseInt(e,10))}).map(function(e,r){return p.createElement(x.t,{key:r,onClick:function(){return a(e)},className:he()(n===e?t.selected:t.listItemHoverable,t.listItem)},p.createElement(x.u,{primary:e}))})))}}]),t}(p.Component),ot=Object(u.withStyles)(function(e){return{listItem:{paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit,borderLeftWidth:e.spacing.unit/2,borderLeftColor:"rgba(0,0,0,0)",borderLeftStyle:"solid",cursor:"pointer"},listItemHoverable:{"&:hover":{backgroundColor:Object(Me.darken)(e.palette.background.paper,.1)}},profileTabList:{paddingTop:"0px",paddingBottom:"0px"},root:{position:"sticky",top:"110px"},selected:{backgroundColor:"light"===e.palette.type?Object(Me.lighten)(e.palette.primary.main,.75):Object(Me.darken)(e.palette.primary.main,.75),borderLeftColor:e.palette.primary.main}}})(it);!function(e){e.Home="Home",e.MentorPanel="Mentor Panel",e.Settings="Settings"}(we||(we={}));var st,lt=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).inputRef=void 0,n.uploadFile=function(e){var t=n.props,a=t.editUser,i=t.user,o=n.inputRef.current.dataset.directUploadUrl;new Qe.DirectUpload(e,o).create(function(e,t){e?console.dir(e):(console.log(t),k()({method:"put",url:"/api/users/".concat(n.props.user.id),params:{avatar:t.signed_id}}).then(function(e){var n=Object(r.a)({},i);n.avatar_url="https://s3.ca-central-1.amazonaws.com/conch-avatars/".concat(t.key),a(n)}).catch(function(e){return console.log(e)}))})},n.changeCurrentTab=function(e){n.setState({currentTab:e})},n.handleClick=function(){n.inputRef.current.click()},n.handleFinishLoading=function(){console.log("Finished loading!"),n.isNotLoading()},n.handleStartLoading=function(){console.log("Loading data!"),n.isLoading()},n.isLoading=function(){n.setState({loading:!0})},n.isNotLoading=function(){n.setState({loading:!1},function(){return console.log("loading set to false")})},n.handleAvatarChange=function(e){if(e.target.files[0]){var t=e.target.files[0];n.uploadFile(t)}},n.getTabs=function(){var e=n.props.user,t=Object.values(we);return e.is_mentor?t:t.filter(function(e){return e!==we.MentorPanel})},n.state={currentTab:n.props.currentTab,loading:!0},n.inputRef=p.createRef(),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.currentTab,n=e.loading,a=this.props,r=a.classes,i=(a.currentTab,a.user),o=Object(Pe.a)(a,["classes","currentTab","user"]),s=this.getTabs();return p.createElement(x.o,{item:!0,xs:11,className:r.root},p.createElement(x.o,{container:!0,spacing:24},p.createElement(x.o,{item:!0,xs:12},p.createElement("div",{className:r.profileHeader},p.createElement("div",{className:r.profileAvatarInputContainer,onClick:this.handleClick},p.createElement(x.b,{className:r.avatar,src:i.avatar_url}),p.createElement("input",{type:"file",ref:this.inputRef,style:{display:"none"},onChange:this.handleAvatarChange,accept:"image/*","data-direct-upload-url":"/rails/active_storage/direct_uploads"})),p.createElement("div",{className:r.profileHeaderText},p.createElement(x.H,{variant:"h3"},i.nickname),p.createElement(x.H,{variant:"h6"},i.email)))),p.createElement(x.o,{item:!0,xs:4,md:2},p.createElement(ot,{currentTab:t,handleClick:this.changeCurrentTab,tabs:s})),p.createElement(x.o,{item:!0,xs:8,md:10},p.createElement(rt,Object.assign({currentTab:t,handleFinishLoading:this.handleFinishLoading,loading:n,user:i},o)))))}}]),t}(p.Component),ct=Object(u.withStyles)(function(e){var t;return{profileAvatarInputContainer:(t={height:"80px",width:"80px",borderRadius:"5px"},Object(H.a)(t,e.breakpoints.up("sm"),{height:"95px",width:"95px"}),Object(H.a)(t,e.breakpoints.up("md"),{height:"110px",width:"110px"}),Object(H.a)(t,e.breakpoints.up("lg"),{height:"125px",width:"125px"}),Object(H.a)(t,e.breakpoints.up("xl"),{height:"140px",width:"140px"}),Object(H.a)(t,"transition",e.transitions.create(["opacity"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.shortest})),Object(H.a)(t,"cursor","pointer"),Object(H.a)(t,"&:hover",{opacity:.45}),t),avatar:{height:"100%",width:"100%",borderRadius:"5px"},changeAvatarText:{fontWeight:"bolder",fontVariant:"small-caps",color:"white"},root:{marginTop:90+2*e.spacing.unit},profileHeader:{display:"flex"},profileHeaderText:{display:"flex",marginLeft:2*e.spacing.unit,marginRight:"auto",flexDirection:"column"}}})(lt),ut=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.handleFinishLoading()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=(e.handleFinishLoading,Object(Pe.a)(e,["classes","handleFinishLoading"]));return p.createElement("div",{className:t.root},p.createElement(x.o,{container:!0,justify:"center"},p.createElement(ct,n)))}}]),t}(p.Component),pt=Object(u.withStyles)(function(e){return{root:{width:"100%",marginTop:"-90px",display:"flex"}}})(ut);!function(e){e.NOT_SUBMITTED="NOT_SUBMITTED",e.SUBMITTED="SUBMITTED",e.ACCEPTED="ACCEPTED",e.ANSWERED="ANSWERED",e.RESOLVED="RESOLVED"}(st||(st={}));var dt,mt,ht,gt={NOT_SUBMITTED:"Not submitted",SUBMITTED:"Connecting with a Mentor",ACCEPTED:"A Mentor is currently answering your question",ANSWERED:"Your question has been answered. If you are not satisfied with your answer, add a comment and select 'Resubmit'",RESOLVED:"Your question has been answered."},bt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={answerText:""},n.getTagById=function(e){for(var t=n.props.tags,a=t.length,r={},i=0;i<a;i+=1)if(t[i].id===e){r=t[i];break}return r},n._handleAnswerChange=function(e){n.setState({answerText:e.target.value})},n._handleSubmit=function(){if(!n.submitIsDisabled()){var e=n.state.answerText,t=n.props.result;k()({method:"post",url:"/api/questions/".concat(t.id,"/answers"),params:{content:e}}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}},n.submitIsDisabled=function(){var e=n.state.answerText,t=n.props.result;return 0===e.length||t.question_status.status!==st.ACCEPTED},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.answerText,n=this.props,a=n.answers,r=n.classes,i=n.user,o=n.result;return p.createElement(x.x,{className:r.root,elevation:4},i.is_mentor&&o.question_status.mentor_id===i.id?p.createElement(p.Fragment,null,p.createElement("div",{className:r.resultContent},p.createElement(x.H,{variant:"caption"},p.createElement("strong",null,"Question:")),o.title&&p.createElement(ae,null,p.createElement("textarea",{readOnly:!0,value:o.title,className:r.input})),p.createElement(ae,null,p.createElement(oe.a,{readOnly:!0,value:o.content,className:r.input})),o.tags.map(function(t){return p.createElement(x.f,{key:t,className:r.chip,label:e.getTagById(t).name})}),p.createElement(x.H,{align:"right",variant:"caption"},p.createElement("strong",null,"Submitted:")," ",new Date(o.created_at).toLocaleDateString()," ",new Date(o.created_at).toLocaleTimeString())),a.length>0&&p.createElement("div",{className:r.resultContent},p.createElement(x.H,{variant:"caption"},p.createElement("strong",null,"Previous Answers:")),a.map(function(e,t){return p.createElement(ae,{key:t},p.createElement(oe.a,{readOnly:!0,value:e.content,className:r.input}))})),p.createElement("div",{className:r.resultContent},p.createElement(x.H,{variant:"caption"},p.createElement("strong",null,"Your Answer:")),p.createElement(ae,null,p.createElement(oe.a,{className:r.input,name:"answer",placeholder:"Enter Answer",autoFocus:!0,required:!0,value:t,onChange:this._handleAnswerChange}),p.createElement(x.G,{title:"Submit Answer",placement:"right"},p.createElement(x.p,{className:r.inputIcon,onClick:this._handleSubmit,disabled:this.submitIsDisabled(),tabIndex:-1},p.createElement(ie.a,null)))))):p.createElement(p.Fragment,null,p.createElement("div",{className:r.resultHeader},p.createElement(x.H,{variant:"h5",style:{fontVariant:"small-caps"}},"Your Question has been submitted..."),p.createElement(x.H,{variant:"caption"},"Status: ",gt[o.question_status.status])),p.createElement("div",{className:r.resultContent},p.createElement(x.H,{variant:"caption"},p.createElement("strong",null,"Your Question:")),o.title&&p.createElement(ae,null,p.createElement("textarea",{readOnly:!0,value:o.title,className:r.input})),p.createElement(ae,null,p.createElement(oe.a,{readOnly:!0,value:o.content,className:r.input})),o.tags.map(function(t){return p.createElement(x.f,{key:t,className:r.chip,label:e.getTagById(t).name})}),p.createElement(x.H,{align:"right",variant:"caption"},p.createElement("strong",null,"Submitted:")," ",new Date(o.created_at).toLocaleDateString()," ",new Date(o.created_at).toLocaleTimeString())),a.length>0&&p.createElement("div",{className:r.resultContent},p.createElement(x.H,{variant:"caption"},p.createElement("strong",null,"Previous Answers:")),a.map(function(e,t){return p.createElement(ae,{key:t},p.createElement(oe.a,{readOnly:!0,value:e.content,className:r.input}))}))))}}]),t}(p.Component),ft=Object(u.withStyles)(function(e){return{chip:{backgroundColor:"rgba(0, 0, 0, 0)",borderColor:e.palette.primary.main,borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing.unit/2,marginBottom:e.spacing.unit/2},root:{padding:2*e.spacing.unit,marginTop:"auto",marginBottom:"auto",width:"100%"},resultHeader:{textAlign:"center",marginBottom:2*e.spacing.unit},resultContent:{padding:2*e.spacing.unit},input:{backgroundColor:"transparent",border:"none",paddingTop:"16.5px",paddingBottom:"16.5px",color:e.palette.text.primary,wordWrap:"break-word",outline:"none",resize:"none",width:"calc(100% - 24px)",fontFamily:"monospace","&::placeholder":{opacity:.65,color:e.palette.text.primary}}}})(bt),Et=ge.a.div({hidden:{opacity:0,transition:{duration:350}},visible:{opacity:1,transition:{duration:350}}}),vt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).signal=k.a.CancelToken.source(),n.state={answers:[],visible:!1,question:{}},n.getQuestionData=function(){var e=n.props,t=e.handleFinishLoading,a=e.questionId;a&&k()({method:"get",url:"/api/questions/".concat(a),cancelToken:n.signal.token}).then(function(e){var r=e.data;n.setState({question:r},function(){var e=n.state.question.question_status.status;e!==st.ANSWERED&&e!==st.RESOLVED||k()({method:"get",url:"/api/questions/".concat(a,"/answers")}).then(function(e){var t=e.data;n.setState({answers:t})}).catch(function(e){return console.log(e)}),t()})}).catch(function(e){console.log(e)}).finally(function(){return n.setState({visible:!0})})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getQuestionData()}},{key:"componentWillUnmount",value:function(){this.signal.cancel("Result status request cancelled")}},{key:"render",value:function(){var e=this.state,t=e.answers,n=e.question,a=e.visible,r=this.props,i=r.classes,o=r.user,s=r.tags;return p.createElement(x.o,{item:!0,xs:12,sm:6,md:4,lg:4,className:i.root},p.createElement(Et,{className:he()(i.container,i.vCenter),pose:a?"visible":"hidden"},a&&p.createElement(ft,{answers:t,result:n,tags:s,user:o})))}}]),t}(p.Component),yt=Object(u.withStyles)(function(e){return{root:{display:"flex"},vCenter:{marginTop:"auto",marginBottom:"auto"},container:{width:"100%"}}})(vt),Ot=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleFinishLoading,a=e.questionId,r=e.user,i=e.tags;return p.createElement("div",{className:t.root},p.createElement(x.o,{container:!0,justify:"center"},p.createElement(yt,{tags:i,handleFinishLoading:n,questionId:a,user:r})))}}]),t}(p.Component),St=Object(u.withStyles)(function(e){return{root:{height:"100%",width:"100%",display:"flex",marginTop:"-45px"}}})(Ot),Tt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,tags:[]},n.handleFinishedLoading=function(){console.log("Finished loading!"),n.isNotLoading()},n.handleStartLoading=function(){console.log("Loading data!"),n.isLoading()},n.isLoading=function(){n.setState({loading:!0})},n.isNotLoading=function(){n.setState({loading:!1})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;k()("/api/tags").then(function(t){var n=t.data;e.setState({tags:n})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.editUser,r=t.setTimeZone,i=t.toggleTheme,o=t.user,s=t.userSettings,l=t.answers,c=t.setAnswers,u=t.questions,d=t.setQuestions,m=this.state,h=m.loading,g=m.tags;return p.createElement("div",{className:n.root},p.createElement(p.Fragment,null,h&&p.createElement("div",{className:n.loadingContainer},p.createElement(x.g,{className:n.loading,size:96})),p.createElement("div",{className:he()(n.switchContainer,h&&n.hidden)},p.createElement(C.d,null,p.createElement(C.b,{exact:!0,path:"/",render:function(){return o?p.createElement(Ae,{handleFinishLoading:e.handleFinishedLoading,tags:g}):p.createElement(C.a,{to:"/login"})}}),p.createElement(C.b,{path:"/login",render:function(){return p.createElement(ee,{handleFinishLoading:e.handleFinishedLoading,handleSignIn:e.props.handleSignIn})}}),p.createElement(C.b,{path:"/profile",render:function(t){return function(t){var n=t.location.state;return o?p.createElement(pt,{questions:u,answers:l,setQuestions:d,setAnswers:c,currentTab:n?n.currentTab&&n.currentTab:we.Home,editUser:a,mentorDialogOpen:!!n&&n.mentorDialogOpen&&n.mentorDialogOpen,handleFinishLoading:e.handleFinishedLoading,setTimeZone:r,tags:g,toggleTheme:i,user:o,userSettings:s}):p.createElement(C.a,{to:"/login"})}(t)}}),p.createElement(C.b,{path:"/queue",render:function(){return p.createElement(Fe,{tags:g})}}),p.createElement(C.b,{path:"/results/:questionId",render:function(t){return function(t){var n=t.match.params.questionId;return o?p.createElement(St,{key:n,tags:g,questionId:n,user:o,handleFinishLoading:e.handleFinishedLoading}):p.createElement(C.a,{to:"/login"})}(t)}})))))}}]),t}(p.Component),jt=Object(C.f)(Object(u.withStyles)(function(e){return{root:{marginTop:"90px",width:"100%",display:"flex"},loading:{margin:"auto"},loadingContainer:{display:"flex",width:"25%",height:"25%",margin:"auto"},switchContainer:{display:"flex",width:"100%"},hidden:{display:"none"}}})(Tt)),wt=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.logoColor;return p.createElement(x.F,{className:t.toolbar},p.createElement(M.b,{to:"/"},p.createElement("img",{className:t.appBarLogo,src:"https://s3.ca-central-1.amazonaws.com/conch-resources/conch_logo_".concat(n,".png")})),p.createElement("div",{className:t.marginLeftAuto},this.props.children))}}]),t}(p.Component),xt=Object(u.withStyles)(function(e){return{root:{},appBarLogo:{height:"64px"},toolbar:{display:"flex",marginTop:"auto",marginBottom:"auto"},marginLeftAuto:{marginLeft:"auto",display:"flex"}}})(wt),Ct=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={scrollTop:0},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",function(){e.setState({scrollTop:document.documentElement.scrollTop})})}},{key:"render",value:function(){var e=this.state.scrollTop,t=this.props,n=t.children,a=t.classes,r=t.isTransparent||0===e,i=t.theme===Ht.LIGHT?"purple":"white";return p.createElement(x.a,{position:"fixed",className:he()(a.appBar,r&&a.appBarTransparent)},p.createElement(xt,{logoColor:i},n))}}]),t}(p.Component),Nt=Object(u.withStyles)(function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),height:"90px",paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit,backgroundColor:e.palette.background.paper},appBarShift:{marginLeft:280,width:"calc(100% - ".concat(280,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarTransparent:{backgroundColor:"rgba(0,0,0,0)",boxShadow:"none"},appBarLogo:{height:"64px"},toolbar:{display:"flex",marginTop:"auto",marginBottom:"auto"},marginLeftAuto:{marginLeft:"auto",display:"flex"},addressContainer:{marginRight:4*e.spacing.unit,"& > p,h3,span":{color:"white"},"& > h3":{fontSize:"1rem",fontWeight:"bold"}},addressLabel:{textAlign:"right"},lightIcon:{color:e.palette.primary.main},darkIcon:{color:e.palette.text.primary}}})(Ct),kt=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.user;return p.createElement("div",{className:t.root},p.createElement(x.b,{className:t.avatar,src:n.avatar_url}),p.createElement("div",{className:t.userInfo},p.createElement(x.H,{className:t.userNickName},n.nickname),p.createElement(x.H,{className:t.userEmail,variant:"caption"},"user status")))}}]),t}(p.Component),It=Object(u.withStyles)(function(e){return{avatar:{height:"40px",width:"40px",borderRadius:"5px"},root:{padding:2*e.spacing.unit,paddingTop:e.spacing.unit,display:"flex"},userInfo:{marginLeft:e.spacing.unit},userNickName:{fontWeight:"bold"},userStatus:{}}})(kt),Dt=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.anchorEl,n=e.classes,a=e.handleClick,r=e.handleClose,i=e.handleSignOut,o=e.location,s=e.theme,l=e.user;return p.createElement("div",{className:he()(n.navBarAccountContainers,s===Ht.DARK&&n.whiteText)},"/login"===o.pathname||"/register"===o.pathname?null:l&&p.createElement(p.Fragment,null,p.createElement("div",{className:n.spacing},p.createElement("div",{className:n.userAccount,onClick:a},p.createElement(x.b,{className:n.avatar,src:l.avatar_url}))),p.createElement(x.v,{id:"accountOptions-menu",className:n.accountMenu,anchorEl:t,open:Boolean(t),onClose:function(){return r()},classes:{paper:n.menuList}},p.createElement(It,{user:l}),p.createElement(M.b,{className:n.link,to:"/profile",onClick:function(){return r()}},p.createElement(x.w,null,"Profile")),p.createElement(x.w,{onClick:function(){return r(i)}},"Sign Out"))))}}]),t}(p.Component),_t=Object(C.f)(Object(u.withStyles)(function(e){return{root:{},link:{textDecoration:"none"},avatar:{margin:"auto",borderRadius:"5px"},accountMenuButtonContainer:{display:"flex","& .root:hover":{backgroundColor:"rgba(0,0,0,0)"}},accountMenuButton:{color:e.palette.primary.main,fontSize:"1.25rem",fontWeight:"bold"},whiteText:{"& *":{color:"white"}},verticalDivider:{marginLeft:"15px",marginRight:"15px",marginTop:"auto",marginBottom:"auto",fontSize:"1.5rem",fontWeight:"lighter"},menuList:{marginTop:"60px"},spacing:{marginLeft:2*e.spacing.unit},userAccount:{display:"flex",cursor:"pointer",padding:e.spacing.unit/2,"&:hover":{backgroundColor:Object(Me.darken)(e.palette.background.default,.1)}}}})(Dt)),Ut=n(173),Lt=n.n(Ut),At=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.location,n=e.unread;return p.createElement(x.G,{title:"My Questions"},p.createElement(M.b,{to:{pathname:"/profile",state:{currentTab:we.Home}},replace:"/profile"===t.pathname},p.createElement(x.p,null,p.createElement(x.c,{badgeContent:n,color:"primary"},p.createElement(Lt.a,null)))))}}]),t}(p.Component),Rt=Object(C.f)(Object(u.withStyles)(function(e){return{root:{}}})(At)),Bt=n(174),qt=n.n(Bt),Ft=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.location;return console.log(e.pathname),p.createElement(x.G,{title:"Become a Mentor"},p.createElement(M.b,{to:{pathname:"/profile",state:{currentTab:we.Settings,mentorDialogOpen:!0}},replace:"/profile"===e.pathname},p.createElement(x.p,null,p.createElement(qt.a,null))))}}]),t}(p.Component),Pt=Object(C.f)(Object(u.withStyles)(function(e){return{root:{}}})(Ft)),Qt=n(175),Mt=n.n(Qt);!function(e){e[e.NOT_IN_QUEUE=0]="NOT_IN_QUEUE",e[e.IN_QUEUE=1]="IN_QUEUE",e[e.BUSY=2]="BUSY"}(ht||(ht={}));var Ht,Gt=(dt={},Object(H.a)(dt,ht.NOT_IN_QUEUE,"Join Question Queue"),Object(H.a)(dt,ht.IN_QUEUE,"Leave Queue"),Object(H.a)(dt,ht.BUSY,"Question in Progress"),dt),Wt=(mt={},Object(H.a)(mt,ht.NOT_IN_QUEUE,"queueDefault"),Object(H.a)(mt,ht.IN_QUEUE,"queueReady"),Object(H.a)(mt,ht.BUSY,"queueBusy"),mt),zt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={interval:null,pending:!1,queueStatus:ht.NOT_IN_QUEUE,timeInQueue:0},n.startTimer=function(){var e=setInterval(function(){return n.setState(function(e){return{timeInQueue:e.timeInQueue+1}})},1e3);n.setState({interval:e})},n.stopAndClearTimer=function(){var e=n.state.interval;e&&(clearInterval(e),n.setState({timeInQueue:0}))},n.setToInQueue=function(){n.setState({queueStatus:ht.IN_QUEUE},function(){return n.startTimer()})},n.setToNotInQueue=function(){n.setState({queueStatus:ht.NOT_IN_QUEUE},function(){return n.stopAndClearTimer()})},n.setToBusy=function(){n.setState({queueStatus:ht.BUSY},function(){return n.stopAndClearTimer()})},n.setQueueStatus=function(e){n.setState({pending:!0},function(){k()({method:"post",url:"/api/join_queue"}).then(function(){var t;(t={},Object(H.a)(t,ht.IN_QUEUE,n.setToInQueue),Object(H.a)(t,ht.NOT_IN_QUEUE,n.setToNotInQueue),Object(H.a)(t,ht.BUSY,n.setToBusy),t)[e]()}).catch(function(e){return console.log(e)}).finally(function(){return n.setState({pending:!1})})})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.pending,a=t.queueStatus,r=t.timeInQueue,i=this.props.classes,o=a===ht.NOT_IN_QUEUE?ht.IN_QUEUE:ht.NOT_IN_QUEUE;return p.createElement(p.Fragment,null,a!==ht.NOT_IN_QUEUE&&p.createElement("div",{className:i.timeInQueue},p.createElement(x.H,{className:i.queueLabel,variant:"caption"},"Time in Queue:"),p.createElement(x.H,{className:i.queueTimer},r)),n?p.createElement(x.d,{className:i.pendingBtn,disabled:!0},p.createElement(Mt.a,{className:i.pendingIcon})," Working"):p.createElement(x.d,{onClick:function(){return e.setQueueStatus(o)},className:i[Wt[a]],variant:"outlined"},Gt[a]))}}]),t}(p.Component),Yt=Object(u.withStyles)(function(e){return{root:{},"@keyframes spin":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},queueDefault:{color:e.palette.primary.main,borderColor:e.palette.primary.main},queueReady:{color:e.palette.text.primary,borderColor:e.palette.text.primary},queueBusy:{backgroundColor:"red"},pendingIcon:{animationName:"$spin"},timeInQueue:{display:"flex",flexWrap:"wrap",textAlign:"right",marginRight:2*e.spacing.unit},queueTimer:{fontSize:"1em",width:"100%"},queueLabel:{fontSize:"0.75em",width:"100%"}}})(zt),Vt=n(176),Zt=n.n(Vt),Xt=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).pubNub=void 0,n.finishLoading=function(){n.setState({loading:!1})},n.navBarHandleClick=function(e){n.setState({navBarAnchorEl:e.currentTarget})},n.navBarHandleClose=function(e){n.setState({navBarAnchorEl:void 0},e)},n.handleSignIn=function(e){var t=n.props,a=t.location,r=t.history;e.avatar_url&&""!==e.avatar_url||(e.avatar_url="https://www.wittenberg.edu/sites/default/files/2017-11/nouser_0.jpg"),n.setState({user:e},function(){n.pubNubSub(),n.getUserData(function(){"/login"!==a.pathname&&"/register"!==a.pathname||r.push("/")})})},n.getUserData=function(e){var t=n.state.user;t&&(I(t.id,function(e){n.setQuestions(e)}),t.is_mentor&&D(t.id,function(e){n.setAnswers(e)})),n.setState({loading:!1}),console.log("[getUserData] callback"),e()},n.setQuestions=function(e){n.setState({questions:e})},n.setAnswers=function(e){n.setState({answers:e})},n.pubNubSub=function(){var e=n.state.user;if(e){var t=[],a="user-".concat(e.id),r="".concat(a,"-mentor");e.is_mentor&&t.push(r);var i="".concat(a,"-client");t.push(i),n.pubNub.subscribe({channels:t}),n.pubNub.getMessage(i,function(e){n.handlePubNubMsgAsClient(e)}),e.is_mentor&&n.pubNub.getMessage(r,function(e){n.handlePubNubMsgAsMentor(e)})}},n.handlePubNubMsgAsClient=function(e){console.log("[handlePubNubMsgAsClient]");var t=e.message,r=t.status,i=t.question_id;if(Object.keys(a).includes(r)){n.setState({snackbarQuestionId:i,snackbarOpen:!0,snackbarText:"If you are getting this message, please contact support. Client channels should not receive updates about answer statuses."})}else{n.setState({snackbarQuestionId:i,snackbarOpen:!0,snackbarText:{NOT_SUBMITTED:"This should never show up!",SUBMITTED:"Your question has been submitted. Should never show up!",ACCEPTED:"Your question has been accepted by a mentor. Awaiting answer...",ANSWERED:"Your question has been answered by a mentor. Please accept or reject the answer.",RESOLVED:"Your question has been resolved successfully."}[r]})}},n.handlePubNubMsgAsMentor=function(e){console.log("[handlePubNubMsgAsMentor]");var t=e.message,r=t.status,i=t.question_id;if(Object.keys(a).includes(r)){var o=r===a.PASSED?"One of your answers has been declined.":"One of your answers has been accepted.";console.log(r,a.PASSED),n.setState({snackbarQuestionId:i,snackbarOpen:!0,snackbarText:o})}else{n.setState({snackbarQuestionId:i,snackbarOpen:!0,snackbarText:{NOT_SUBMITTED:"This should never show up!",SUBMITTED:"Your question has been submitted. Should never show up!",ACCEPTED:"You have been assigned to a question. Good luck!",ANSWERED:"You have submitted your answer to a question. Probably don't need to show this.",RESOLVED:"One of your questions has been accepted. This is from the question side, can probably remove"}[r]})}},n.handleSignOut=function(){k()({method:"post",url:"/logout"}).catch(function(e){return console.log(e)}).finally(function(){n.setState({user:null},function(){return n.props.history.push("/")})})},n.editUser=function(e){n.setState({user:e})},n.handleSnackbarClose=function(){n.setState({snackbarOpen:!1})},n.state={answers:[],pn_messages:{},loading:!0,snackbarQuestionId:void 0,snackbarOpen:!1,snackbarText:"placeholder text",questions:[],navBarAnchorEl:void 0,user:null},n.pubNub=new Zt.a({publishKey:"pub-c-b3773bad-955a-4ee6-907a-72fa89daa2bd",subscribeKey:"sub-c-9cef740a-58a2-11e9-af7f-e675e2b0822b"}),n.pubNub.init(Object(v.a)(Object(v.a)(n))),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;k()({method:"post",url:"/login",params:{}}).then(function(t){var n=t.data,a=n.id,r=n.avatar_url,i=n.nickname,o=n.email,s=n.phone,l=n.is_mentor,c=n.tags;e.handleSignIn({id:a,nickname:i,email:o,phone:s,avatar_url:r,is_mentor:l,tags:c})}).catch(function(e){return console.log(e)}).finally(function(){return e.finishLoading()})}},{key:"componentWillUnmount",value:function(){var e=this.state.user;if(e){var t=[],n="user-".concat(e.id);if(e.is_mentor){var a="".concat(n,"-mentor");t.push(a)}var r="".concat(n,"-client");t.push(r),this.pubNub.unsubscribe({channels:t})}}},{key:"render",value:function(){var e=this.state,t=e.answers,n=e.navBarAnchorEl,a=e.loading,r=e.snackbarOpen,i=e.snackbarQuestionId,o=e.snackbarText,s=e.questions,l=e.user,c=this.props,u=c.classes,p=c.location,m=c.setTimeZone,h=c.toggleTheme,g=c.userSettings,b=g.themeType,f="/"===p.pathname;return d.a.createElement("div",{className:u.root},a?d.a.createElement("div",{className:u.loadingContainer},d.a.createElement(x.g,{className:u.loading,size:96})):d.a.createElement(d.a.Fragment,null,d.a.createElement(Nt,{isTransparent:f,toggleTheme:h,theme:b},l?l.is_mentor?d.a.createElement(Yt,null):d.a.createElement(d.a.Fragment,null,d.a.createElement(Rt,{unread:s.filter(function(e){return e.is_dirty}).length}),d.a.createElement(Pt,null)):null,d.a.createElement(_t,{anchorEl:n,handleClick:this.navBarHandleClick,handleClose:this.navBarHandleClose,handleSignOut:this.handleSignOut,isTransparent:f,theme:b,user:l})),d.a.createElement(jt,{user:l,userSettings:g,handleSignIn:this.handleSignIn,setTimeZone:m,toggleTheme:h,editUser:this.editUser,questions:s,answers:t,setQuestions:this.setQuestions,setAnswers:this.setAnswers}),d.a.createElement(x.y,{anchorOrigin:{vertical:"top",horizontal:"center"},open:r,autoHideDuration:6e3,onClose:this.handleSnackbarClose},d.a.createElement(x.z,{className:u.snackbarContent,message:d.a.createElement("span",{id:"client-snackbar",className:u.snackbarMessage},"\ud83d\udc1a ",o),action:[d.a.createElement(M.b,{key:i,to:"/results/".concat(i),style:{textDecoration:"none"}},d.a.createElement(x.d,{color:"primary",variant:"text",size:"small"},"Go To Question")),d.a.createElement(x.p,{key:"close",color:"inherit",onClick:this.handleSnackbarClose},d.a.createElement(U.a,null))]})),d.a.createElement(Q,{theme:b,toggleTheme:h})))}}]),t}(p.Component),Kt=Object(C.f)(Object(u.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.default,minHeight:"100%",display:"flex"},loading:{margin:"auto"},loadingContainer:{display:"flex",width:"25%",height:"25%",margin:"auto"}}})(Xt));!function(e){e[e.LIGHT=0]="LIGHT",e[e.DARK=1]="DARK"}(Ht||(Ht={}));var Jt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={userSettings:{themeType:Ht.LIGHT}},n.getAllSettings=function(){var e=n.state.userSettings,t={themeType:Ht.LIGHT},a={timeZone:"America/Toronto"};Object.keys(t).map(function(a){var r=localStorage.getItem(a)||t[a],i=parseInt(r,10);e[a]=i,n.setState({userSettings:e})}),Object.keys(a).map(function(t){var r=localStorage.getItem(t)||a[t];e[t]=r,n.setState({userSettings:e})})},n.toggleTheme=function(){var e=Object(r.a)({},n.state.userSettings);e.themeType=1-e.themeType,n.setState({userSettings:e},function(){return localStorage.setItem("themeType","".concat(e.themeType))})},n.setTimeZone=function(e){var t=Object(r.a)({},n.state.userSettings);t.timeZone=e,n.setState({userSettings:t},function(){return localStorage.setItem("timeZone","".concat(t.timeZone))})},n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllSettings()}},{key:"render",value:function(){var e=this.state.userSettings,t=function(e){var t=e===Ht.LIGHT?"light":"dark";return Object(u.createMuiTheme)({palette:{type:t,primary:{main:h.a[300]},secondary:b.a,error:E.a,contrastThreshold:3,tonalOffset:.2},typography:{useNextVariants:!0}})}(e.themeType);return p.createElement(u.MuiThemeProvider,{theme:t},p.createElement(Kt,{toggleTheme:this.toggleTheme,setTimeZone:this.setTimeZone,userSettings:e}))}}]),t}(p.Component),$t=Object(u.withStyles)(function(e){return{root:{}}})(Jt),en=n(29),tn=n.n(en);k.a.defaults.baseURL="https://mcs-server.herokuapp.com/",k.a.defaults.withCredentials=!0,k.a.interceptors.request.use(function(e){return console.log("[Request Success]"),console.log(e),e},function(e){return console.log("[Request Error]"),console.log(e),Promise.reject(e)}),k.a.interceptors.response.use(function(e){return console.log("[Response Success]"),console.log(e),e},function(e){return console.log("[Response Error]"),console.log(e),Promise.reject(e)});var nn=d.a.createElement(M.a,null,d.a.createElement($t,null));tn.a.render(nn,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[235,1,2]]]);
//# sourceMappingURL=main.6abf94c7.chunk.js.map