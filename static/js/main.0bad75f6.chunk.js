(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5436:function(e,t,n){e.exports=n(5587)},5437:function(e,t,n){},5587:function(e,t,n){"use strict";n.r(t);n(5437);var a,r,o=n(25),i=n.n(o),s=n(0),l=n.n(s),c=n(28),u=n.n(c),p=n(36),d=n(6),h=n(7),g=n(9),m=n(8),f=n(10),E=n(32),b=n(141),S=n.n(b),v=n(80),y=n.n(v),O=n(81),j=n.n(O),T=n(2),x=n(23),N=n(35),I=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme,a=e.toggleTheme;return s.createElement("div",{className:t.root},s.createElement("div",{className:t.toggleThemeButtonContainer},s.createElement(T.h,{onClick:a},n===ue.LIGHT&&s.createElement(N.d,{className:t.lightIcon}),n===ue.DARK&&s.createElement(N.c,{className:t.darkIcon}))))}}]),t}(s.Component),w=Object(E.withStyles)(function(e){return{root:{display:"flex"},toggleThemeButtonContainer:{marginLeft:"auto",marginRight:"5px",marginBottom:"5px"}}})(I),C=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme,a=e.toggleTheme;return s.createElement("div",{className:t.root},s.createElement(w,{theme:n,toggleTheme:a}))}}]),t}(s.Component),k=Object(E.withStyles)(function(e){return{root:{position:"absolute",bottom:0,width:"100%"}}})(C),D=n(12),L=n.n(D),R=n(84),A=n(83),U=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes;return s.createElement("div",{className:n.inputContainer},s.createElement("div",{className:n.inputLeftPadding},t))}}]),t}(s.Component),P=Object(E.withStyles)(function(e){return{root:{},inputLeftPadding:{width:"100%",display:"flex",paddingLeft:"20px"},inputContainer:{backgroundColor:e.palette.background.paper,display:"flex",borderWidth:"1px",borderStyle:"solid",borderColor:e.palette.primary.light,boxShadow:"none",borderRadius:"24px",zIndex:3,margin:"8px auto",height:"100%"}}})(U),G=n(26),B=n(142);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.EXPANDED=1]="EXPANDED"}(r||(r={}));var _,F=(a={},Object(G.a)(a,r.DEFAULT,{min:1,max:2}),Object(G.a)(a,r.EXPANDED,{min:8,max:40}),a),W=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(g.a)(this,Object(m.a)(t).call(this,e))).inputRef=void 0,n.state={disableInputIcon:!1},n.handleHeightChange=function(e){var t=n.props,a=t.inputState,o=t.setInputStateToDefault,i=t.setInputStateToExpanded;n.inputRef&&(console.log(n.inputRef.rows),a===r.DEFAULT&&n.inputRef.rows>2&&i(),a===r.EXPANDED&&1===n.inputRef.rows&&o())},n.state={disableInputIcon:!1},n.inputRef=null,n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.state.disableInputIcon,n=this.props,a=n.classes,o=n.inputState,i=n.toggleInputState;return s.createElement(s.Fragment,null,s.createElement(B.a,{inputRef:function(t){return e.inputRef=t},className:a.input,onHeightChange:function(t){return e.handleHeightChange(t)},minRows:F[o].min,maxRows:F[o].max,name:"question",placeholder:"Ask a Question",autoFocus:!0,required:!0}),s.createElement(T.h,{className:a.inputIcon,onClick:i,disabled:t},o===r.DEFAULT&&s.createElement(N.a,null),o===r.EXPANDED&&s.createElement(N.e,null)))}}]),t}(s.Component),H=Object(E.withStyles)(function(e){return{root:{},input:{backgroundColor:"transparent",border:"none",paddingTop:"16.5px",paddingBottom:"16.5px",color:e.palette.text.primary,wordWrap:"break-word",outline:"none",resize:"none",width:"calc(100% - 24px)",fontFamily:"monospace","&::placeholder":{opacity:.65,color:e.palette.text.primary}},inputIcon:{"&:hover":{backgroundColor:"rgba(0,0,0,0)"}},inputElementsContainer:{display:"flex",width:"100%"},inputPadding:{flex:1,display:"flex",paddingLeft:"20px"}}})(W),z=n(144),M=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={selectValue:""},n.handleSelectChange=function(e){n.props.handleSelectTag(e.id),n.setState({selectValue:""})},n.handleSelectValueChange=function(e){n.setState({selectValue:e.target.value})},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.selectedTags,a=e.tags;return s.createElement(s.Fragment,null,s.createElement(z.a,{id:"downshift-select",onChange:this.handleSelectChange,itemToString:function(e){return e?e.name:""}},function(e){var r=e.getInputProps,o=e.getItemProps,i=e.getMenuProps,l=e.highlightedIndex,c=e.inputValue,u=e.isOpen,p=(e.selectedItem,e.clearSelection,c&&c.toLocaleLowerCase());return s.createElement("div",{className:t.container},s.createElement("input",Object.assign({className:t.input},r(),{placeholder:"Add a category"})),s.createElement("div",i(),u&&s.createElement(T.m,{className:t.paper,elevation:4},a.filter(function(e){return!n.includes(e.id)}).filter(function(e){var t=e.name.toLocaleLowerCase();return!p||t.includes(p)}).slice(0,30).map(function(e,n){var a=e.id,r=e.name;return s.createElement("li",Object.assign({},o({item:{id:a,name:r}}),{className:L()(t.listItem,l===n&&t.highlighted),key:a,value:r}),e.name)}))))}))}}]),t}(s.Component),Q=Object(E.withStyles)(function(e){return{root:{},container:{width:"calc(100% - 12px)",zIndex:1},input:{backgroundColor:"transparent",border:"none",color:e.palette.text.primary,wordWrap:"break-word",outline:"none",width:"100%",fontFamily:"monospace",paddingTop:"16.5px",paddingBottom:"16.5px","&::placeholder":{opacity:.65,color:e.palette.text.primary}},listItem:{backgroundColor:"transparent",color:e.palette.text.primary,paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:2*e.spacing.unit,display:"block",cursor:"pointer"},selectedTagsContainer:{marginTop:"8px"},paper:{maxHeight:"300px",overflowY:"scroll"},highlighted:{backgroundColor:e.palette.background.default}}})(M),X=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).getTagById=function(e){for(var t=n.props.tags,a=t.length,r={},o=0;o<a;o+=1)if(t[o].id===e){r=t[o];break}return r},n.handleDelete=function(e){n.props.handleDeleteTag(e)},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.selectedTags;return s.createElement("div",{className:n.selectedTagsContainer},a.map(function(t){return s.createElement(T.c,{key:t,className:n.selectedTag,label:e.getTagById(t).name,onDelete:function(){return e.handleDelete(t)},deleteIcon:s.createElement(N.b,{className:n.deleteIcon})})}))}}]),t}(s.Component),q=Object(E.withStyles)(function(e){return{root:{},selectedTagsContainer:{marginTop:e.spacing.unit,zIndex:-1},selectedTag:{backgroundColor:e.palette.background.default,borderColor:e.palette.primary.main,borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing.unit/2,marginBottom:e.spacing.unit/2},deleteIcon:{color:e.palette.primary.main}}})(X),V=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return s.createElement("input",{className:e.input,type:"text",placeholder:"Enter a title (optional)"})}}]),t}(s.Component),K=Object(E.withStyles)(function(e){return{input:{backgroundColor:"transparent",border:"none",paddingTop:"16.5px",paddingBottom:"16.5px",color:e.palette.text.primary,wordWrap:"break-word",outline:"none",resize:"none",width:"calc(100% - 24px)",fontFamily:"monospace","&::placeholder":{opacity:.65,color:e.palette.text.primary}}}})(V);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.EXPANDED=1]="EXPANDED"}(_||(_={}));var J,Y,$,Z,ee,te,ne=A.a.div({hidden:{opacity:0},visible:{opacity:1}}),ae=A.a.div({default:{height:"50px",transition:{duration:300,ease:"easeOut"}},expanded:{height:"155px",transition:{type:"spring",stiffness:150}}}),re=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(g.a)(this,Object(m.a)(t).call(this,e))).heightRef=void 0,n.handleSubmit=function(e){e.preventDefault(),console.log("Submit!")},n.toggleInputState=function(){n.setState(function(e){return{state:1-e.state}})},n.setInputStateToDefault=function(){n.setState({state:_.DEFAULT})},n.setInputStateToExpanded=function(){n.setState({state:_.EXPANDED})},n.setHeightRef=function(){n.heightRef.current.style.height="auto"},n.handleSelectTag=function(e){n.setState({selectedTags:[].concat(Object(R.a)(n.state.selectedTags),[e])})},n.handleDelete=function(e){var t=Object(R.a)(n.state.selectedTags);t.splice(t.indexOf(e),1),n.setState({selectedTags:t})},n.state={state:_.DEFAULT,selectedTags:[],tags:[]},n.heightRef=s.createRef(),n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;i()("/api/tags").then(function(t){var n=t.data;e.setState({tags:n})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedTags,a=t.state,r=t.tags,o=this.props.classes;return s.createElement("form",{className:o.form,onSubmit:function(t){return e.handleSubmit(t)}},s.createElement(ne,{pose:a===_.EXPANDED?"visible":"hidden"},a===_.EXPANDED&&s.createElement(P,null,s.createElement(K,null))),s.createElement(ae,{ref:this.heightRef,onPoseComplete:function(){e.setHeightRef()},pose:a===_.EXPANDED?"expanded":"default"},s.createElement(P,null,s.createElement(H,{inputState:a,toggleInputState:this.toggleInputState,setInputStateToDefault:this.setInputStateToDefault,setInputStateToExpanded:this.setInputStateToExpanded}))),s.createElement("div",{style:{height:"50px"}},s.createElement(P,null,s.createElement(Q,{handleSelectTag:this.handleSelectTag,selectedTags:n,tags:r}))),s.createElement(q,{handleDeleteTag:this.handleDelete,selectedTags:n,tags:r}),s.createElement("button",{type:"submit",style:{display:"none"}}))}}]),t}(s.Component),oe=Object(x.f)(Object(E.withStyles)(function(e){return{form:{width:"100%",height:"100%"},tagSelect:{width:"100%",backgroundColor:"white"},selectPadding:{paddingRight:"12px"},link:{textDecoration:"none"},searchButton:{padding:"15px 30px 14px",height:"60px",textTransform:"uppercase",fontWeight:"bold",fontSize:"1rem",borderRadius:"0px",letterSpacing:2},selectedTagsContainer:{width:"100%",display:"flex",flexWrap:"wrap"}}})(re)),ie=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return s.createElement(T.g,{item:!0,xs:10,sm:8,md:6,lg:4,className:e.root},s.createElement(oe,null))}}]),t}(s.Component),se=Object(E.withStyles)(function(e){return{root:{margin:"auto",display:"flex",width:"40%",position:"relative"}}})(ie),le=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.handleFinishLoading()}},{key:"render",value:function(){var e=this.props.classes;return s.createElement("div",{className:e.root},s.createElement(T.g,{container:!0,justify:"center"},s.createElement(se,null)))}}]),t}(s.Component),ce=Object(E.withStyles)(function(e){return{root:{height:"calc(100% + 90px)",width:"100%",marginTop:"-90px",display:"flex"}}})(le);!function(e){e[e.SIGNED_IN=0]="SIGNED_IN",e[e.SIGNED_OUT=1]="SIGNED_OUT",e[e.SIGNING_IN=2]="SIGNING_IN"}(Z||(Z={})),function(e){e[e.NO_REQUEST=0]="NO_REQUEST",e[e.SENDING_REQUEST=1]="SENDING_REQUEST",e[e.RESQUEST_SENT=2]="RESQUEST_SENT"}(ee||(ee={})),function(e){e[e.SIGNED_UP=0]="SIGNED_UP",e[e.SIGNING_UP=1]="SIGNING_UP",e[e.SIGNED_OUT=2]="SIGNED_OUT"}(te||(te={}));var ue,pe=(J={},Object(G.a)(J,Z.SIGNED_IN,"Logged In"),Object(G.a)(J,Z.SIGNED_OUT,"Log In"),Object(G.a)(J,Z.SIGNING_IN,"Logging In"),J),de=(Y={},Object(G.a)(Y,te.SIGNED_UP,"Registered"),Object(G.a)(Y,te.SIGNING_UP,"Registering"),Object(G.a)(Y,te.SIGNED_OUT,"Register"),Y),he=($={},Object(G.a)($,ee.NO_REQUEST,"Reset Password"),Object(G.a)($,ee.SENDING_REQUEST,"Sending"),Object(G.a)($,ee.RESQUEST_SENT,"Password Reset Sent"),$),ge=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={nickname:"",email:"",password:"",loading:!1,currentState:"signIn",states:{signIn:{toggleText:"Don't have an account?",linkText:"Register",errorText:"",state:Z.SIGNED_OUT},signUp:{toggleText:"Already have an account?",linkText:"Log In",errorText:"",state:te.SIGNED_OUT},resetPassword:{toggleText:"Remember your password?",linkText:"Log In",errorText:"",state:ee.NO_REQUEST}}},n.handleNicknameChange=function(e){n.setState({nickname:e.target.value})},n.handleEmailChange=function(e){n.setState({email:e.target.value})},n.handlePasswordChange=function(e){n.setState({password:e.target.value})},n.signIn=function(e){var t=n.props.handleSignIn,a=n.state,r=a.email,o=a.password,s=a.states,l=s.signIn;i()({method:"post",url:"/login",params:{email:r,password:o}}).then(function(e){var n=e.data,a=n.id,r=n.nickname,o=n.email,i=n.phone;t({id:a,nickname:r,email:o,phone:i})}).catch(function(e){if(e.response){var t=e.response.data.error;l.state=Z.SIGNED_OUT,l.errorText=t,n.setState({states:s})}}).finally(function(){console.log("finally"),e()})},n.signUp=function(e){var t=n.state,a=t.nickname,r=t.email,o=t.password,s=t.states,l=s.signUp;i()({method:"post",url:"/register",params:{nickname:a,email:r,password:o}}).then(function(e){console.log("then"),console.log(e.data)}).catch(function(e){if(e.response){var t=e.response.data.error;l.state=te.SIGNED_OUT,l.errorText=t,n.setState({states:s})}}).finally(function(){console.log("finally"),e()})},n.submitForm=function(){var e=n.state,t=e.currentState,a=e.states,r=a.signIn,o=a.signUp;"signIn"===t&&(r.state=Z.SIGNING_IN,n.setState({states:a},function(){n.signIn(function(){r.state=Z.SIGNED_IN,n.setState({states:a})})})),"signUp"===t&&(o.state=te.SIGNING_UP,n.setState({states:a},function(){n.signUp(function(){o.state=te.SIGNED_UP,n.setState({states:a})})}))},n.handleChangeAuthDialogState=function(e){n.setState({currentState:e})},n.showPasswordReset=function(){n.handleChangeAuthDialogState("resetPassword")},n.toggleSignUp=function(){"signIn"===n.state.currentState?n.handleChangeAuthDialogState("signUp"):n.handleChangeAuthDialogState("signIn")},n.getActiveText=function(e,t){var n="";if(null!==e)switch(t){case"signIn":n=pe[e];break;case"signUp":n=de[e];break;case"resetPassword":n=he[e]}else console.log("aaaa");return n},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state,t=e.currentState,n=e.email,a=e.nickname,r=e.password,o=e.states,i=this.props.classes,l=o[t].state,c=o[t].errorText,u=o[t].toggleText,p=o[t].linkText,d=this.getActiveText(l,t);return s.createElement("div",{className:i.root},s.createElement("form",{className:i.authForm,id:"auth-form"},"signUp"===t&&s.createElement(T.e,{fullWidth:!0,className:i.formControl},s.createElement(T.j,{htmlFor:"inputNickname"},"Nickname"),s.createElement(T.i,{id:"inputNickname",value:a,required:!0,autoFocus:!0,type:"text",autoComplete:"username",onChange:this.handleNicknameChange,error:c.length>0}),s.createElement(T.f,{id:"inputEmailError"},c)),s.createElement(T.e,{fullWidth:!0,className:i.formControl},s.createElement(T.j,{htmlFor:"inputEmail"},"Email Address"),s.createElement(T.i,{id:"inputEmail",value:n,required:!0,autoFocus:!0,type:"email",autoComplete:"email",onChange:this.handleEmailChange,error:c.length>0,className:i.input}),s.createElement(T.f,{id:"inputEmailError"},c)),"resetPassword"!==t&&s.createElement(T.e,{fullWidth:!0,className:i.formControl},s.createElement(T.j,{htmlFor:"inputPassword"},"Password"),s.createElement(T.i,{id:"inputPassword",value:r,required:!0,type:"password",autoComplete:"current-password",onChange:this.handlePasswordChange,error:c.length>0}),s.createElement(T.f,{id:"inputPasswordError"},c))),s.createElement(T.b,{variant:"contained",color:"primary",fullWidth:!0,onClick:this.submitForm},d),s.createElement("div",{className:i.extraActions},"resetPassword"!==t&&s.createElement(s.Fragment,null,s.createElement("div",{role:"button",className:i.forgotPassword,onClick:this.showPasswordReset},s.createElement(T.o,{color:"primary",variant:"caption"},"Forgot Password?")),s.createElement(T.o,{className:i.separator,variant:"caption"},"\u2022")),s.createElement(T.o,{variant:"caption"},u),s.createElement("div",{role:"button",className:i.signUp,onClick:this.toggleSignUp},s.createElement(T.o,{color:"primary",variant:"caption"},"\xa0",p))))}}]),t}(s.Component),me=Object(E.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,height:"100%",width:"100%",display:"flex",flexWrap:"wrap",borderWidth:"1px",borderStyle:"solid",borderColor:e.palette.primary.main,borderRadius:"10px",paddingTop:3*e.spacing.unit,paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit},extraActions:{display:"flex",textAlign:"center",marginLeft:"auto",marginRight:"auto",padding:e.spacing.unit},formControl:{marginBottom:2*e.spacing.unit},forgotPassword:{"&:hover":{cursor:"pointer"}},hidden:{display:"none"},signUp:{"&:hover":{cursor:"pointer"}},separator:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},input:{backgroundColor:"transparent",border:"none",color:e.palette.text.primary,"&::-webkit-autofill":{color:e.palette.text.primary,backgroundColor:e.palette.background.default}}}})(ge),fe=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleSignIn;return s.createElement(T.g,{item:!0,xs:10,sm:6,md:4,lg:3,className:t.root},s.createElement(me,{handleSignIn:n}))}}]),t}(s.Component),Ee=Object(E.withStyles)(function(e){return{root:{marginTop:"auto",marginBottom:"auto",display:"flex",flexWrap:"wrap"}}})(fe),be=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.handleFinishLoading()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleSignIn;return s.createElement("div",{className:t.root},s.createElement(T.g,{container:!0,justify:"center"},s.createElement(Ee,{handleSignIn:n})))}}]),t}(s.Component),Se=Object(E.withStyles)(function(e){return{root:{height:"calc(100% + 90px)",width:"100%",marginTop:"-90px",display:"flex"}}})(be),ve=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},n.handleFinishedLoading=function(){console.log("Finished loading!"),n.isNotLoading()},n.handleStartLoading=function(){console.log("Loading data!"),n.isLoading()},n.isLoading=function(){n.setState({loading:!0})},n.isNotLoading=function(){n.setState({loading:!1})},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.user,r=this.state.loading;return s.createElement("div",{className:n.root},s.createElement(s.Fragment,null,r&&s.createElement("div",{className:n.loadingContainer},s.createElement(T.d,{className:n.loading,size:96})),s.createElement("div",{className:L()(n.switchContainer,r&&n.hidden)},s.createElement(x.d,null,s.createElement(x.b,{exact:!0,path:"/",render:function(){return a?s.createElement(ce,{handleFinishLoading:e.handleFinishedLoading}):s.createElement(x.a,{to:"/login"})}}),s.createElement(x.b,{path:"/login",render:function(){return s.createElement(Se,{handleFinishLoading:e.handleFinishedLoading,handleSignIn:e.props.handleSignIn})}})))))}}]),t}(s.Component),ye=Object(E.withStyles)(function(e){return{root:{height:"calc(100% - 90px)",marginTop:"90px",width:"100%",display:"flex"},hidden:{display:"none"},loading:{margin:"auto"},loadingContainer:{display:"flex",width:"25%",height:"25%",margin:"auto"},switchContainer:{height:"100%",width:"100%"}}})(ve),Oe=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme===ue.LIGHT?"purple":"white";return s.createElement("div",{className:t.root},s.createElement(T.a,{position:"fixed",className:L()(t.appBar,t.appBarTransparent)},s.createElement(T.n,{className:t.toolbar},s.createElement(p.c,{to:"/"},s.createElement("img",{className:t.appBarLogo,src:"https://s3.ca-central-1.amazonaws.com/conch-resources/conch_logo_".concat(n,".png")})),s.createElement("div",{className:t.marginLeftAuto},s.createElement("div",{className:t.actions},this.props.children)))))}}]),t}(s.Component),je=Object(E.withStyles)(function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),height:"90px",paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit},appBarShift:{marginLeft:280,width:"calc(100% - ".concat(280,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarTransparent:{backgroundColor:"rgba(0,0,0,0)",boxShadow:"none"},appBarLogo:{height:"64px"},root:{height:"90px"},toolbar:{display:"flex",marginTop:"auto",marginBottom:"auto"},marginLeftAuto:{marginLeft:"auto",display:"flex"},addressContainer:{marginRight:4*e.spacing.unit,"& > p,h3,span":{color:"white"},"& > h3":{fontSize:"1rem",fontWeight:"bold"}},addressLabel:{textAlign:"right"},lightIcon:{color:e.palette.primary.main},darkIcon:{color:e.palette.text.primary}}})(Oe),Te=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.anchorEl,n=e.classes,a=e.handleClick,r=e.handleClose,o=e.handleSignOut,i=e.location,l=e.theme,c=e.user;return s.createElement("div",{className:L()(n.navBarAccountContainers,l===ue.DARK&&n.whiteText)},"/login"===i.pathname||"/register"===i.pathname?null:c?s.createElement("div",{className:n.userAccount},s.createElement(T.b,{className:n.accountMenuButton,onClick:a},c.nickname),s.createElement(T.k,{id:"accountOptions-menu",anchorEl:t,open:Boolean(t),onClose:r},s.createElement(T.l,{onClick:o},"Sign Out"))):s.createElement("div",{className:n.accountMenuButtonContainer},s.createElement(T.b,{variant:"text",className:n.accountMenuButton,onClick:function(){return s.createElement(x.a,{to:"/login"})}},"Log In")))}}]),t}(s.Component),xe=Object(x.f)(Object(E.withStyles)(function(e){return{root:{},accountMenuButtonContainer:{display:"flex"},accountMenuButton:{color:e.palette.primary.main,fontSize:"1.25rem",fontWeight:"bold"},whiteText:{"& *":{color:"white"}},verticalDivider:{marginLeft:"15px",marginRight:"15px",marginTop:"auto",marginBottom:"auto",fontSize:"1.5rem",fontWeight:"lighter"}}})(Te)),Ne=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,navBarAnchorEl:void 0,user:null},n.finishLoading=function(){n.setState({loading:!1})},n.navBarHandleClick=function(e){n.setState({navBarAnchorEl:e.currentTarget})},n.navBarHandleClose=function(){n.setState({navBarAnchorEl:void 0})},n.handleSignIn=function(e){n.setState({user:e},function(){n.props.history.push("/")})},n.handleSignOut=function(){i()({method:"post",url:"/logout"}).then(function(e){console.log(e),n.props.history.push("/")}).catch(function(e){return console.log(e)}).finally(function(){n.setState({user:null})})},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;i()({method:"post",url:"/login",params:{}}).then(function(t){var n=t.data,a=n.id,r=n.nickname,o=n.email,i=n.phone;e.handleSignIn({id:a,nickname:r,email:o,phone:i})}).catch(function(e){return console.log(e)}).finally(function(){return e.finishLoading()})}},{key:"render",value:function(){var e=this.state,t=e.navBarAnchorEl,n=e.loading,a=e.user,r=this.props,o=r.classes,i=r.location,s=r.toggleTheme,c=r.theme,u="/"===i.pathname;return l.a.createElement("div",{className:o.root},l.a.createElement(je,{isTransparent:u,toggleTheme:s,theme:c},l.a.createElement(xe,{anchorEl:t,handleClick:this.navBarHandleClick,handleClose:this.navBarHandleClose,handleSignOut:this.handleSignOut,isTransparent:u,theme:c,user:a})),n?l.a.createElement("div",{className:o.loadingContainer},l.a.createElement(T.d,{className:o.loading,size:96})):l.a.createElement(ye,{user:a,handleSignIn:this.handleSignIn}),l.a.createElement(k,{theme:c,toggleTheme:s}))}}]),t}(s.Component),Ie=Object(x.f)(Object(E.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.default,height:"100%",display:"flex"},loading:{margin:"auto"},loadingContainer:{display:"flex",width:"25%",height:"25%",margin:"auto"}}})(Ne));!function(e){e[e.LIGHT=0]="LIGHT",e[e.DARK=1]="DARK"}(ue||(ue={}));var we=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={theme:ue.LIGHT},n.toggleTheme=function(){n.setState(function(e){return{theme:1-e.theme}},function(){return localStorage.setItem("themeType","".concat(n.state.theme))})},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("themeType");if(e){var t=parseInt(e,10);this.setState({theme:t})}else localStorage.setItem("themeType","".concat(ue.LIGHT))}},{key:"render",value:function(){var e=this.state.theme,t=function(e){var t=e===ue.LIGHT?"light":"dark";return Object(E.createMuiTheme)({palette:{type:t,primary:{main:S.a[300]},secondary:y.a,error:j.a,contrastThreshold:3,tonalOffset:.2},typography:{useNextVariants:!0}})}(e);return console.log(t),s.createElement(E.MuiThemeProvider,{theme:t},s.createElement(Ie,{toggleTheme:this.toggleTheme,theme:e}))}}]),t}(s.Component),Ce=Object(E.withStyles)(function(e){return{root:{}}})(we);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.defaults.headers.common.Authorization="AUTH TOKEN",i.a.defaults.headers.post["Content-Type"]="application/json",i.a.interceptors.request.use(function(e){return console.log("[Request Success]"),console.log(e),e},function(e){return console.log("[Request Error]"),console.log(e),Promise.reject(e)}),i.a.interceptors.response.use(function(e){return console.log("[Response Success]"),console.log(e),e},function(e){return console.log("[Response Error]"),console.log(e),Promise.reject(e)});l.a.createElement(p.a,null,l.a.createElement(Ce,null));var ke=l.a.createElement(p.b,null,l.a.createElement(Ce,null));u.a.render(ke,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5436,1,2]]]);
//# sourceMappingURL=main.0bad75f6.chunk.js.map