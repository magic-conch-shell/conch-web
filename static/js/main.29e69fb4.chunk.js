(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{237:function(e,t,n){e.exports=n(426)},238:function(e,t,n){},426:function(e,t,n){"use strict";n.r(t);n(238),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a,r=n(31),o=n(3),i=n(4),s=n(6),l=n(5),c=n(7),u=n(38),p=n(0),d=n.n(p),m=n(167),h=n.n(m),g=n(101),b=n.n(g),f=n(102),E=n.n(f),v=n(32),y=n(34);!function(e){e.SELECTED="SELECTED",e.PASSED="PASSED"}(a||(a={}));var O,S,j,T,w,x,C=n(1),N=n(17),k=n(15),I=n.n(k),D=function(e,t){console.log("[getQuestionsByUserId]"),I()({method:"get",url:"/api/users/".concat(e,"/questions")}).then(function(e){var n=e.data;t(n)}).catch(function(e){return console.log(e)})},A=function(e,t){console.log("[getAnswersByUserId]"),I()({method:"get",url:"/api/users/".concat(e,"/answers")}).then(function(e){var n=e.data;t(n)}).catch(function(e){return console.log(e)})},_=function(e,t,n){console.log("[getQuestionByQuestionId]"),I()({method:"get",url:"/api/questions/".concat(e),cancelToken:n&&n.token}).then(function(e){var n=e.data;t(n)}).catch(function(e){return console.log(e)})},L=function(e,t){console.log("[getAnswersByQuestionId]"),I()({method:"get",url:"/api/questions/".concat(e,"/answers")}).then(function(e){var n=e.data;t(n)}).catch(function(e){return console.log(e)})},U=n(76),R=n.n(U),B=n(169),q=n.n(B),Q=n(168),F=n.n(Q),P=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme,a=e.toggleTheme;return p.createElement("div",{className:t.root},p.createElement("div",{className:t.toggleThemeButtonContainer},p.createElement(C.p,{onClick:a},n===Kt.LIGHT&&p.createElement(F.a,{className:t.lightIcon}),n===Kt.DARK&&p.createElement(q.a,{className:t.darkIcon}))))}}]),t}(p.Component),M=Object(u.withStyles)(function(e){return{root:{display:"flex"},toggleThemeButtonContainer:{marginLeft:"auto",marginRight:"5px",marginBottom:"5px"}}})(P),H=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme,a=e.toggleTheme;return p.createElement("div",{className:t.root},p.createElement(M,{theme:n,toggleTheme:a}))}}]),t}(p.Component),G=Object(u.withStyles)(function(e){return{root:{position:"fixed",bottom:0,width:"100%"}}})(H),W=n(28),z=n(18);!function(e){e[e.SIGNED_IN=0]="SIGNED_IN",e[e.SIGNED_OUT=1]="SIGNED_OUT",e[e.SIGNING_IN=2]="SIGNING_IN"}(T||(T={})),function(e){e[e.NO_REQUEST=0]="NO_REQUEST",e[e.SENDING_REQUEST=1]="SENDING_REQUEST",e[e.RESQUEST_SENT=2]="RESQUEST_SENT"}(w||(w={})),function(e){e[e.SIGNED_UP=0]="SIGNED_UP",e[e.SIGNING_UP=1]="SIGNING_UP",e[e.SIGNED_OUT=2]="SIGNED_OUT"}(x||(x={}));var Y,V,Z=(O={},Object(z.a)(O,T.SIGNED_IN,"Logged In"),Object(z.a)(O,T.SIGNED_OUT,"Log In"),Object(z.a)(O,T.SIGNING_IN,"Logging In"),O),X=(S={},Object(z.a)(S,x.SIGNED_UP,"Registered"),Object(z.a)(S,x.SIGNING_UP,"Registering"),Object(z.a)(S,x.SIGNED_OUT,"Register"),S),K=(j={},Object(z.a)(j,w.NO_REQUEST,"Reset Password"),Object(z.a)(j,w.SENDING_REQUEST,"Sending"),Object(z.a)(j,w.RESQUEST_SENT,"Password Reset Sent"),j),J=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={nickname:"",email:"",password:"",loading:!1,currentState:"signIn",states:{signIn:{toggleText:"Don't have an account?",linkText:"Register",errorText:"",state:T.SIGNED_OUT},signUp:{toggleText:"Already have an account?",linkText:"Log In",errorText:"",state:x.SIGNED_OUT},resetPassword:{toggleText:"Remember your password?",linkText:"Log In",errorText:"",state:w.NO_REQUEST}}},n.handleNicknameChange=function(e){n.setState({nickname:e.target.value})},n.handleEmailChange=function(e){n.setState({email:e.target.value})},n.handlePasswordChange=function(e){n.setState({password:e.target.value})},n.signIn=function(){console.log("[signIn]");var e=n.props.handleSignIn,t=n.state,a=t.email,r=t.password,o=t.states,i=o.signIn;I()({method:"post",url:"/login",params:{email:a,password:r}}).then(function(t){console.log("[signIn].then");var n=t.data,a=n.id,r=n.avatar_url,o=n.nickname,i=n.email,s=n.phone,l=n.is_mentor,c=n.tags;e({id:a,nickname:o,email:i,phone:s,avatar_url:r,is_mentor:l,tags:c})}).catch(function(e){if(e.response){var t=e.response.data.error;i.state=T.SIGNED_OUT,i.errorText=t,n.setState({states:o})}})},n.signUp=function(){var e=n.props.handleSignIn,t=n.state,a=t.nickname,r=t.email,o=t.password,i=t.states,s=i.signUp;I()({method:"post",url:"/register",params:{nickname:a,email:r,password:o}}).then(function(t){var a=t.data,r=a.id,o=a.avatar_url,l=a.nickname,c=a.email,u=a.phone,p=a.is_mentor,d=a.tags;e({id:r,nickname:l,email:c,phone:u,avatar_url:o,is_mentor:p,tags:d}),s.state=x.SIGNED_UP,n.setState({states:i})}).catch(function(e){if(e.response){var t=e.response.data.error;s.state=x.SIGNED_OUT,s.errorText=t,n.setState({states:i})}})},n.submitForm=function(e){e&&e.preventDefault();var t=n.state,a=t.currentState,r=t.states,o=r.signIn,i=r.signUp;"signIn"===a&&(o.state=T.SIGNING_IN,n.setState({states:r},function(){n.signIn()})),"signUp"===a&&(i.state=x.SIGNING_UP,n.setState({states:r},function(){n.signUp()}))},n.handleChangeAuthDialogState=function(e){n.setState({currentState:e})},n.showPasswordReset=function(){n.handleChangeAuthDialogState("resetPassword")},n.toggleSignUp=function(){"signIn"===n.state.currentState?n.handleChangeAuthDialogState("signUp"):n.handleChangeAuthDialogState("signIn")},n.getActiveText=function(e,t){var n="";if(null!==e)switch(t){case"signIn":n=Z[e];break;case"signUp":n=X[e];break;case"resetPassword":n=K[e]}else console.log("aaaa");return n},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.currentState,a=t.email,r=t.nickname,o=t.password,i=t.states,s=this.props.classes,l=i[n].state,c=i[n].errorText,u=i[n].toggleText,d=i[n].linkText,m=this.getActiveText(l,n);return p.createElement("div",{className:s.root},p.createElement("form",{className:s.authForm,onSubmit:function(t){return e.submitForm(t)},id:"auth-form"},"signUp"===n&&p.createElement(C.l,{fullWidth:!0,error:c.length>0,required:!0,className:s.formControl},p.createElement(C.r,{htmlFor:"inputNickname"},"Nickname"),p.createElement(C.q,{id:"inputNickname",value:r,autoFocus:!0,type:"text",autoComplete:"username",onChange:this.handleNicknameChange}),p.createElement(C.n,{id:"inputEmailError"},c)),p.createElement(C.l,{required:!0,fullWidth:!0,className:s.formControl,error:c.length>0},p.createElement(C.r,{htmlFor:"inputEmail"},"Email Address"),p.createElement(C.q,{id:"inputEmail",value:a,autoFocus:!0,type:"email",autoComplete:"email",onChange:this.handleEmailChange,className:s.input}),p.createElement(C.n,{id:"inputEmailError"},c)),"resetPassword"!==n&&p.createElement(C.l,{required:!0,fullWidth:!0,className:s.formControl,error:c.length>0},p.createElement(C.r,{htmlFor:"inputPassword"},"Password"),p.createElement(C.q,{id:"inputPassword",value:o,type:"password",autoComplete:"current-password",onChange:this.handlePasswordChange}),p.createElement(C.n,{id:"inputPasswordError"},c)),p.createElement("button",{style:{display:"none"},type:"submit"})),p.createElement(C.d,{variant:"contained",color:"primary",fullWidth:!0,onClick:this.submitForm},m),p.createElement("div",{className:s.extraActions},"resetPassword"!==n&&p.createElement(p.Fragment,null,p.createElement("div",{role:"button",className:s.forgotPassword,onClick:this.showPasswordReset},p.createElement(C.H,{color:"primary",variant:"caption"},"Forgot Password?")),p.createElement(C.H,{className:s.separator,variant:"caption"},"\u2022")),p.createElement(C.H,{variant:"caption"},u),p.createElement("div",{role:"button",className:s.signUp,onClick:this.toggleSignUp},p.createElement(C.H,{color:"primary",variant:"caption"},"\xa0",d))))}}]),t}(p.Component),$=Object(u.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,height:"100%",width:"100%",display:"flex",flexWrap:"wrap",borderWidth:"1px",borderStyle:"solid",borderColor:e.palette.primary.main,borderRadius:"10px",paddingTop:3*e.spacing.unit,paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit},authForm:{width:"100%"},extraActions:{display:"flex",textAlign:"center",marginLeft:"auto",marginRight:"auto",padding:e.spacing.unit},formControl:{marginBottom:2*e.spacing.unit},forgotPassword:{"&:hover":{cursor:"pointer"}},hidden:{display:"none"},signUp:{"&:hover":{cursor:"pointer"}},separator:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},input:{backgroundColor:"transparent",border:"none",color:e.palette.text.primary,"&::-webkit-autofill":{color:e.palette.text.primary,backgroundColor:e.palette.background.default}}}})(J),ee=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleSignIn;return p.createElement(C.o,{item:!0,xs:10,sm:6,md:4,lg:4,className:t.root},p.createElement($,{handleSignIn:n}))}}]),t}(p.Component),te=Object(u.withStyles)(function(e){return{root:{marginTop:"auto",marginBottom:"auto",display:"flex",flexWrap:"wrap"}}})(ee),ne=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.handleFinishLoading()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleSignIn;return p.createElement("div",{className:t.root},p.createElement(C.o,{container:!0,justify:"center"},p.createElement(te,{handleSignIn:n})))}}]),t}(p.Component),ae=Object(u.withStyles)(function(e){return{root:{width:"100%",marginTop:"-90px",display:"flex"}}})(ne),re=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes;return p.createElement("div",{className:n.inputContainer},p.createElement("div",{className:n.inputLeftPadding},t))}}]),t}(p.Component),oe=Object(u.withStyles)(function(e){return{root:{},inputLeftPadding:{width:"100%",display:"flex",paddingLeft:"20px"},inputContainer:{backgroundColor:e.palette.background.paper,display:"flex",borderWidth:"1px",borderStyle:"solid",borderColor:e.palette.primary.light,boxShadow:"none",borderRadius:"24px",zIndex:3,margin:"8px auto",height:"100%"}}})(re),ie=n(75),se=n.n(ie),le=n(41);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.EXPANDED=1]="EXPANDED"}(V||(V={}));var ce,ue,pe=(Y={},Object(z.a)(Y,V.DEFAULT,{min:1}),Object(z.a)(Y,V.EXPANDED,{min:8}),Y),de=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).inputRef=void 0,n.state={disableInputIcon:!1},n.handleHeightChange=function(e){var t=n.props,a=t.inputState,r=t.setInputStateToExpanded;n.inputRef&&a===V.DEFAULT&&e>15&&r()},n._handleChange=function(e){n.props.handleChange(e.target.value)},n.state={disableInputIcon:!1},n.inputRef=null,n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.disableInputIcon,n=this.props,a=n.classes,r=n.content,o=n.handleSubmit,i=n.inputState;return p.createElement(p.Fragment,null,p.createElement(le.a,{inputRef:function(t){return e.inputRef=t},className:a.input,onHeightChange:function(t){return e.handleHeightChange(t)},minRows:pe[i].min,name:"question",placeholder:"Ask a Question",autoFocus:!0,required:!0,value:r,onChange:this._handleChange}),p.createElement(C.G,{title:"Submit Question",placement:"right"},p.createElement(C.p,{className:a.inputIcon,onClick:o,disabled:t,tabIndex:-1},p.createElement(se.a,null))))}}]),t}(p.Component),me=Object(u.withStyles)(function(e){return{root:{},input:{backgroundColor:"transparent",border:"none",paddingTop:"16.5px",paddingBottom:"16.5px",color:e.palette.text.primary,wordWrap:"break-word",outline:"none",resize:"none",width:"calc(100% - 24px)",fontFamily:"monospace","&::placeholder":{opacity:.65,color:e.palette.text.primary}},inputIcon:{"&:hover":{backgroundColor:"rgba(0,0,0,0)"}},inputElementsContainer:{display:"flex",width:"100%"},inputPadding:{flex:1,display:"flex",paddingLeft:"20px"}}})(de),he=n(77),ge=n(10),be=n.n(ge),fe=n(40),Ee=fe.a.div({hidden:{opacity:0,transition:{duration:450}},visible:{opacity:1,transition:{duration:450}}}),ve=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={selectValue:""},n.handleSelectChange=function(e,t){n.props.handleSelectTag(e.id),n.setState({selectValue:""},function(){return t.setState({inputValue:""})})},n.handleSelectValueChange=function(e){n.setState({selectValue:e.target.value})},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.selectedTags,a=e.tags;return p.createElement(p.Fragment,null,p.createElement(he.a,{id:"downshift-select",onChange:this.handleSelectChange,itemToString:function(e){return e?e.name:""}},function(e){var r=e.getInputProps,o=e.getItemProps,i=e.getMenuProps,s=e.highlightedIndex,l=e.inputValue,c=e.isOpen,u=(e.selectedItem,e.clearSelection,e.setState),d=l&&l.toLocaleLowerCase(),m=r();return m.onBlur=function(){u({inputValue:""})},p.createElement("div",{className:t.container},p.createElement("input",Object.assign({className:t.input},m,{placeholder:"Add a category"})),p.createElement("div",i(),p.createElement(Ee,{pose:c?"visible":"hidden",className:t.selectMenu},c&&p.createElement(C.x,{className:t.paper,elevation:4},a.filter(function(e){return!n.includes(e.id)}).filter(function(e){var t=e.name.toLocaleLowerCase();return!d||t.includes(d)}).slice(0,30).map(function(e,n){var a=e.id,r=e.name;return p.createElement("li",Object.assign({},o({item:{id:a,name:r}}),{className:be()(t.listItem,s===n&&t.highlighted),key:a,value:r,tabIndex:0}),e.name)})))))}))}}]),t}(p.Component),ye=Object(u.withStyles)(function(e){return{root:{},container:{width:"calc(100% - 12px)",zIndex:9999,position:"relative"},input:{backgroundColor:"transparent",border:"none",color:e.palette.text.primary,wordWrap:"break-word",outline:"none",width:"100%",fontFamily:"monospace",paddingTop:"16.5px",paddingBottom:"16.5px","&::placeholder":{opacity:.65,color:e.palette.text.primary}},listItem:{backgroundColor:"transparent",color:e.palette.text.primary,paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:2*e.spacing.unit,display:"block",cursor:"pointer"},selectedTagsContainer:{marginTop:"8px"},paper:{maxHeight:"300px",overflowY:"scroll"},highlighted:{backgroundColor:e.palette.background.default},selectMenu:{marginTop:"5px",opacity:0}}})(ve),Oe=n(170),Se=n.n(Oe),je=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).getTagById=function(e){for(var t=n.props.tags,a=t.length,r={},o=0;o<a;o+=1)if(t[o].id===e){r=t[o];break}return r},n.handleDelete=function(e){n.props.handleDeleteTag(e)},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.selectedTags;return p.createElement("div",{className:n.selectedTagsContainer},a.map(function(t){return p.createElement(C.f,{key:t,className:n.selectedTag,label:e.getTagById(t).name,onDelete:function(){return e.handleDelete(t)},deleteIcon:p.createElement(Se.a,{className:n.deleteIcon})})}))}}]),t}(p.Component),Te=Object(u.withStyles)(function(e){return{root:{},selectedTagsContainer:{marginTop:e.spacing.unit,zIndex:-1},selectedTag:{backgroundColor:"rgba(0,0,0,0)",borderColor:e.palette.primary.main,borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing.unit/2,marginBottom:e.spacing.unit/2},deleteIcon:{color:e.palette.primary.main}}})(je),we=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r))))._handleChange=function(e){n.props.handleChange(e.target.value)},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.title;return p.createElement("input",{className:t.input,type:"text",placeholder:"Enter a title (optional)",value:n,onChange:this._handleChange})}}]),t}(p.Component),xe=Object(u.withStyles)(function(e){return{input:{backgroundColor:"transparent",border:"none",paddingTop:"16.5px",paddingBottom:"16.5px",color:e.palette.text.primary,wordWrap:"break-word",outline:"none",resize:"none",width:"calc(100% - 24px)",fontFamily:"monospace","&::placeholder":{opacity:.65,color:e.palette.text.primary}}}})(we);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.EXPANDED=1]="EXPANDED"}(ce||(ce={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SUBMITTED=1]="SUBMITTED"}(ue||(ue={}));var Ce,Ne=750,ke=fe.a.div({hidden:{opacity:0},visible:{opacity:1}}),Ie=fe.a.div({hidden:{opacity:0,transition:{duration:Ne}},visible:{opacity:1,transition:{duration:Ne}}}),De=fe.a.div({default:{height:"50px",transition:{duration:300,ease:"easeOut"}},expanded:{height:"155px",transition:{type:"spring",stiffness:150}}}),Ae=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).heightRef=void 0,n.handleSubmit=function(e){e&&e.preventDefault();var t=n.state,a=t.content,r=t.title,o=t.selectedTags,i=n.props.addQuestion;a.length>0&&o.length>0?I()({method:"post",url:"/api/questions",params:{title:r,content:a,tags:o}}).then(function(e){var t=e.data;i(t);var a=t.id;n.setSubmissionStateToSubmitted(a)}).catch(function(e){return console.log(e)}):alert("Fill in the form! Replace me with actual error text in the form!")},n.toggleInputState=function(){n.setState(function(e){return{inputState:1-e.inputState}})},n.setInputStateToDefault=function(){n.setState({inputState:ce.DEFAULT})},n.setInputStateToExpanded=function(){n.setState({inputState:ce.EXPANDED})},n.setSubmissionStateToSubmitted=function(e){var t=n.props.history;n.setState({submissionState:ue.SUBMITTED},function(){return setTimeout(function(){t.push("/results/".concat(e))},Ne)})},n.setHeightRef=function(){n.heightRef.current.style.height="auto"},n.handleSelectTag=function(e){n.setState({selectedTags:[].concat(Object(v.a)(n.state.selectedTags),[e])})},n.handleDelete=function(e){var t=Object(v.a)(n.state.selectedTags);t.splice(t.indexOf(e),1),n.setState({selectedTags:t})},n.handleChangeContent=function(e){n.setState({content:e})},n.handleChangeTitle=function(e){n.setState({title:e})},n.state={content:"",title:"",inputState:ce.DEFAULT,submissionState:ue.DEFAULT,selectedTags:[]},n.heightRef=p.createRef(),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.selectedTags,a=t.inputState,r=t.title,o=t.content,i=t.submissionState,s=this.props,l=s.classes,c=s.tags;return p.createElement(Ie,{className:l.root,pose:i===ue.DEFAULT?"visible":"hidden"},p.createElement("form",{onSubmit:this.handleSubmit},p.createElement(ke,{pose:a===ce.EXPANDED?"visible":"hidden"},a===ce.EXPANDED&&p.createElement(oe,null,p.createElement(xe,{key:"title",title:r,handleChange:this.handleChangeTitle}))),p.createElement(De,{ref:this.heightRef,onPoseComplete:function(){e.setHeightRef()},pose:a===ce.EXPANDED?"expanded":"default"},p.createElement(oe,null,p.createElement(me,{key:"content",inputState:a,content:o,handleChange:this.handleChangeContent,handleSubmit:this.handleSubmit,toggleInputState:this.toggleInputState,setInputStateToDefault:this.setInputStateToDefault,setInputStateToExpanded:this.setInputStateToExpanded}))),p.createElement("div",{style:{height:"50px"}},p.createElement(oe,null,p.createElement(ye,{key:"select",handleSelectTag:this.handleSelectTag,selectedTags:n,tags:c}))),p.createElement(Te,{key:"tags",handleDeleteTag:this.handleDelete,selectedTags:n,tags:c}),p.createElement("button",{type:"submit",style:{display:"none"}})))}}]),t}(p.Component),_e=Object(N.f)(Object(u.withStyles)(function(e){return{root:{width:"100%",height:"100%"},tagSelect:{width:"100%",backgroundColor:"white"},selectPadding:{paddingRight:"12px"},link:{textDecoration:"none"},searchButton:{padding:"15px 30px 14px",height:"60px",textTransform:"uppercase",fontWeight:"bold",fontSize:"1rem",borderRadius:"0px",letterSpacing:2},selectedTagsContainer:{width:"100%",display:"flex",flexWrap:"wrap"}}})(Ae)),Le=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.tags,a=e.addQuestion;return p.createElement(C.o,{item:!0,xs:10,sm:8,md:6,lg:4,className:t.root},p.createElement(_e,{tags:n,addQuestion:a}))}}]),t}(p.Component),Ue=Object(u.withStyles)(function(e){return{root:{margin:"auto",display:"flex",width:"40%",position:"relative"}}})(Le),Re=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.handleFinishLoading()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.addQuestion,a=e.tags;return p.createElement("div",{className:t.root},p.createElement(C.o,{container:!0,justify:"center"},p.createElement(Ue,{addQuestion:n,tags:a})))}}]),t}(p.Component),Be=Object(u.withStyles)(function(e){return{root:{width:"100%",marginTop:"-90px",display:"flex"}}})(Re),qe=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return p.createElement("div",{className:e.root})}}]),t}(p.Component),Qe=Object(u.withStyles)(function(e){return{root:{}}})(qe),Fe=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.tags;return p.createElement("div",{className:t.root},p.createElement(C.o,{container:!0,justify:"center"},p.createElement(Qe,{tags:n})))}}]),t}(p.Component),Pe=Object(u.withStyles)(function(e){return{root:{height:"100%",width:"100%",display:"flex",marginTop:"-45px"}}})(Fe),Me=n(51),He=n(172),Ge=n(24),We=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={errorText:""},n.handleLink=function(e){n.props.history.push("/results/".concat(e))},n.getTagById=function(e){for(var t=n.props.tags,a=t.length,r={},o=0;o<a;o+=1)if(t[o].id===e){r=t[o];break}return r},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.questions;return p.createElement(C.x,{className:n.paper,elevation:4},p.createElement(C.A,{className:n.table,padding:"dense"},p.createElement(C.D,{className:n.tableHeader},p.createElement(C.E,null,p.createElement(C.C,null,"Date"),p.createElement(C.C,null,"Title"),p.createElement(C.C,null,"Question"),p.createElement(C.C,null,"Tags"),p.createElement(C.C,null,"Status"))),p.createElement(C.B,{className:n.tableBody},a.sort(function(e,t){return new Date(e.created_at)>new Date(t.created_at)?-1:1}).map(function(t,a){var r=new Date(t.created_at);return p.createElement(C.E,{key:a,onClick:function(){return e.handleLink(t.id)},className:be()(n.tableRow,t.is_dirty&&n.dirty),hover:!0},p.createElement(C.C,null,"".concat(r.toLocaleDateString(),"\n").concat(r.toLocaleTimeString())),p.createElement(C.C,null,t.title.length>0&&"".concat(t.title.substr(0,20)),t.title.length>20&&"..."),p.createElement(C.C,{style:{wordWrap:"break-word"}},"".concat(t.content.substr(0,20)),t.content.length>20&&"..."),p.createElement(C.C,null,t.tags.map(function(t,a){return p.createElement(C.f,{key:a,className:n.chip,label:e.getTagById(t).name})})),p.createElement(C.C,null,t.question_status&&t.question_status.status))}))))}}]),t}(p.Component),ze=Object(N.f)(Object(u.withStyles)(function(e){return{root:{},dirty:{backgroundColor:"light"===e.palette.type?Object(Ge.lighten)(e.palette.primary.main,.75):Object(Ge.darken)(e.palette.primary.main,.75)},loading:{margin:"auto"},loadingContainer:{display:"flex",width:"25%",height:"25%",margin:"auto"},table:{overflowY:"scroll"},tableRow:{cursor:"pointer"},tableHeader:{position:"sticky",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)"},tableBody:{overflowY:"scroll"},chip:{backgroundColor:"rgba(0, 0, 0, 0)",borderColor:e.palette.primary.main,borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing.unit/2,marginBottom:e.spacing.unit/2}}})(We)),Ye=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.handleFinishLoading()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.questions,a=e.tags,r=e.user;return p.createElement("div",{className:t.root},p.createElement(C.o,{container:!0,spacing:8,className:t.contentContainer},p.createElement(C.o,{item:!0,xs:12,sm:8},p.createElement(ze,{questions:n,tags:a,userId:r.id}))))}}]),t}(p.Component),Ve=Object(N.f)(Object(u.withStyles)(function(e){return{root:{padding:2*e.spacing.unit},contentContainer:{color:e.palette.text.primary},divider:{color:Object(Ge.darken)(e.palette.primary.main,.1)},table:{overflowY:"scroll"},tableRow:{cursor:"pointer"},chip:{backgroundColor:"rgba(0, 0, 0, 0)",borderColor:e.palette.primary.main,borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing.unit/2,marginBottom:e.spacing.unit/2}}})(Ye)),Ze=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={errorText:""},n.handleLink=function(e){n.props.history.push("/results/".concat(e))},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.answers;return p.createElement(C.x,{className:n.paper,elevation:4},p.createElement(C.A,{className:n.table,padding:"dense"},p.createElement(C.D,{className:n.tableHeader},p.createElement(C.E,null,p.createElement(C.C,null,"Date"),p.createElement(C.C,null,"Answer"),p.createElement(C.C,null,"Selected"))),p.createElement(C.B,{className:n.tableBody},a.sort(function(e,t){return new Date(e.created_at)>new Date(t.created_at)?-1:1}).map(function(t,a){var r=new Date(t.created_at);return p.createElement(C.E,{key:a,onClick:function(){return e.handleLink(t.question_id)},className:n.tableRow,hover:!0},p.createElement(C.C,null,"".concat(r.toLocaleDateString(),"\n").concat(r.toLocaleTimeString())),p.createElement(C.C,{style:{wordWrap:"break-word"}},"".concat(t.content.substr(0,20)),t.content.length>20&&"..."),p.createElement(C.C,null,t.selected.toString()))}))))}}]),t}(p.Component),Xe=Object(N.f)(Object(u.withStyles)(function(e){return{root:{},dirty:{backgroundColor:"light"===e.palette.type?Object(Ge.lighten)(e.palette.primary.main,.75):Object(Ge.darken)(e.palette.primary.main,.75)},loading:{margin:"auto"},loadingContainer:{display:"flex",width:"25%",height:"25%",margin:"auto"},table:{overflowY:"scroll"},tableRow:{cursor:"pointer"},tableHeader:{position:"sticky",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)"},tableBody:{overflowY:"scroll"},chip:{backgroundColor:"rgba(0, 0, 0, 0)",borderColor:e.palette.primary.main,borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing.unit/2,marginBottom:e.spacing.unit/2}}})(Ze)),Ke=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={questions:[]},n._handleDeleteTag=function(e){var t=n.props,a=t.editUser,o=t.user,i=o.tags;if(i){var s=i.filter(function(t){return t!==e});I()({method:"delete",url:"/api/user_tags/".concat(e)}).then(function(e){var t=Object(r.a)({},o);t.tags=s,a(t)}).catch(function(e){return console.log(e)})}},n._handleSelectTag=function(e){var t=n.props,a=t.editUser,o=t.user;o.tags&&I()({method:"post",url:"/api/user_tags",params:{tags:[e]}}).then(function(t){var n=Object(r.a)({},o);n.is_mentor=!0,n.tags=[].concat(Object(v.a)(o.tags),[e]),a(n)}).catch(function(e){return console.log(e)})},n.toggleMentorStatus=function(){var e=n.props,t=e.editUser,a=e.user;I()({method:"put",url:"/api/users/".concat(a.id),params:{is_mentor:!1}}).then(function(e){var n=Object(r.a)({},a);n.is_mentor=!1,t(n)}).catch(function(e){return console.log(e)})},n.refreshAnswers=function(){var e=n.props,t=e.setAnswers,a=e.user;A(a.id,function(e){t(e)})},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.answers,a=t.user,r=t.tags;return p.createElement(C.o,{container:!0,spacing:8},p.createElement(C.o,{item:!0,xs:4},p.createElement(C.d,{disabled:!a.is_mentor,onClick:this.toggleMentorStatus},"Stop Being a Mentor (TESTING)"),p.createElement(C.H,{variant:"subtitle1"},"Add New Categories"),p.createElement("div",{style:{height:"50px"}},p.createElement(oe,null,p.createElement(ye,{handleSelectTag:function(t){e._handleSelectTag(t)},selectedTags:a.tags,tags:r}))),p.createElement(Te,{handleDeleteTag:function(t){e._handleDeleteTag(t)},selectedTags:a.tags,tags:r})),p.createElement(C.o,{item:!0,xs:8},p.createElement(Xe,{answers:n})))}}]),t}(p.Component),Je=Object(u.withStyles)(function(e){return{root:{}}})(Ke),$e=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={selectedTags:[]},n.handleSubmit=function(e){var t=n.props,a=t.closeDialog,o=t.editUser,i=t.user;e&&e.preventDefault();var s=n.state.selectedTags;s.length>0?I()({method:"put",url:"/api/users/".concat(i.id),params:{is_mentor:!0}}).then(function(e){I()({method:"post",url:"/api/user_tags",params:{tags:s}}).then(function(e){var t=Object(r.a)({},i);t.is_mentor=!0,t.tags=s,o(t),a()}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)}):alert("Fill in the form! Replace me with actual error text in the form!")},n.handleSelectTag=function(e){n.setState({selectedTags:[].concat(Object(v.a)(n.state.selectedTags),[e])})},n.handleDeleteTag=function(e){var t=Object(v.a)(n.state.selectedTags);t.splice(t.indexOf(e),1),n.setState({selectedTags:t})},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.selectedTags,t=this.props,n=t.classes,a=t.open,r=t.closeDialog,o=t.tags;return p.createElement(C.h,{open:a,onClose:r,fullWidth:!0,className:n.dialog,maxWidth:"sm",classes:{paper:n.paper}},p.createElement(C.k,null,"Register as a Mentor"),p.createElement(C.i,null,p.createElement(C.j,null,"By becoming a Mentor and setting your areas of expertise, you will be able to be join a queue where you will be selected to answer questions, earning money per question answered."),p.createElement("br",null),p.createElement(C.j,null,"Please note that the quality of your answers are important. Not everyone is suited to be a Mentor. Please only select areas are you an expert in."),p.createElement("br",null),p.createElement(C.H,{variant:"subtitle1"},"Select Area of Expertise:"),p.createElement("div",{style:{height:"50px"}},p.createElement(oe,null,p.createElement(ye,{handleSelectTag:this.handleSelectTag,selectedTags:e,tags:o}))),p.createElement("br",null),e.length>0&&p.createElement(p.Fragment,null,p.createElement(C.H,{variant:"subtitle1"},"Your Areas of Expertise:"),p.createElement(Te,{handleDeleteTag:this.handleDeleteTag,selectedTags:e,tags:o}))),p.createElement(C.d,{onClick:this.handleSubmit,disabled:0===e.length,fullWidth:!0,size:"large",variant:"contained",color:"primary"},"Become a Mentor"))}}]),t}(p.Component),et=Object(u.withStyles)(function(e){return{root:{},paper:{transition:"all 1s ease-out"},submitButton:{borderRadius:0}}})($e),tt=n(173),nt=n.n(tt).a.tz.names(),at=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={nicknameText:n.props.user.nickname,passwordText:"",passwordConfirmText:"",passwordErrorText:"",mentorDialogOpen:n.props.mentorDialogOpen},n.handleSelectChange=function(e){n.props.setTimeZone(e)},n.handleTextChange=function(e){n.setState(Object(z.a)({},e.target.id,e.target.value))},n._changeNickname=function(e){e&&e.preventDefault();var t=n.state.nicknameText,a=n.props,o=a.editUser,i=a.user,s=Object(r.a)({},i);s.nickname=t,o(s)},n._changePassword=function(e){e&&e.preventDefault();var t=n.state;t.passwordText!==t.passwordConfirmText&&n.setState({passwordErrorText:"Your passwords do not match!"})},n.toggleMentorDialog=function(){n.setState(function(e){return{mentorDialogOpen:!e.mentorDialogOpen}})},n.openMentorDialog=function(){n.setState({mentorDialogOpen:!0})},n.closeMentorDialog=function(){n.setState({mentorDialogOpen:!1})},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.handleFinishLoading)()}},{key:"render",value:function(){var e=this.state,t=e.nicknameText,n=e.mentorDialogOpen,a=this.props,r=a.classes,o=a.editUser,i=a.tags,s=a.toggleTheme,l=a.user,c=a.userSettings;return p.createElement(p.Fragment,null,p.createElement(et,{editUser:o,open:n,closeDialog:this.closeMentorDialog,tags:i,user:l}),p.createElement(C.o,{container:!0,spacing:24,className:r.root},p.createElement(C.o,{item:!0,xs:6},p.createElement(C.m,{control:p.createElement(C.e,{color:"primary",onChange:s,checked:c.themeType===Kt.DARK}),label:"Dark Mode"})),p.createElement(C.o,{item:!0,xs:6},p.createElement("label",{id:"select-timezone-label"},"Timezone"),p.createElement(he.a,{id:"downshift-select-timezone",onChange:this.handleSelectChange,initialInputValue:c.timeZone,labelId:"select-timezone-label"},function(e){var t=e.getInputProps,n=e.getItemProps,a=e.getMenuProps,o=e.highlightedIndex,i=e.inputValue,s=e.isOpen,l=(e.selectedItem,e.clearSelection,i&&i.toLocaleLowerCase());return p.createElement("div",{className:r.container},p.createElement("input",Object.assign({className:r.input},t(),{placeholder:"Select timezone"})),p.createElement("div",a(),s&&p.createElement(C.x,{className:r.paper,elevation:4},nt.filter(function(e){var t=e.toLocaleLowerCase();return!l||t.includes(l)}).slice(0,30).map(function(e,t){return p.createElement("li",Object.assign({},n({item:e}),{className:be()(r.listItem,o===t&&r.highlighted),key:"".concat(e,"-").concat(t),value:e,tabIndex:0}),e)}))))})),p.createElement(C.o,{item:!0,xs:6},p.createElement("form",{onSubmit:this._changeNickname},p.createElement(C.l,{className:r.formControl},p.createElement(C.r,{htmlFor:"nicknameText"},"Change Nickname"),p.createElement(C.q,{id:"nicknameText",value:t,type:"text",onChange:this.handleTextChange})),p.createElement("button",{type:"submit",style:{display:"none"}}))),!l.is_mentor&&p.createElement(C.o,{item:!0,xs:6},p.createElement(C.d,{onClick:this.openMentorDialog},"Become A Mentor"))))}}]),t}(p.Component),rt=Object(u.withStyles)(function(e){return{root:{},container:{width:"calc(100% - 12px)",zIndex:1},input:{backgroundColor:"transparent",border:"none",color:e.palette.text.primary,wordWrap:"break-word",outline:"none",width:"100%",fontFamily:"monospace",paddingTop:"16.5px",paddingBottom:"16.5px","&::placeholder":{opacity:.65,color:e.palette.text.primary}},listItem:{backgroundColor:"transparent",color:e.palette.text.primary,paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:2*e.spacing.unit,display:"block",cursor:"pointer"},selectedTagsContainer:{marginTop:"8px"},paper:{maxHeight:"300px",overflowY:"scroll",position:"absolute",zIndex:99},highlighted:{backgroundColor:e.palette.background.default}}})(at),ot=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).getTabContent=function(){var e=n.props,t=(e.classes,e.currentTab),a=e.editUser,r=e.handleFinishLoading,o=e.answers,i=e.setAnswers,s=e.questions,l=e.setQuestions,c=e.tags,u=e.user,d=Object(Me.a)(e,["classes","currentTab","editUser","handleFinishLoading","answers","setAnswers","questions","setQuestions","tags","user"]);switch(t){case Ce.Home:return p.createElement(Ve,{handleFinishLoading:r,tags:c,user:u,questions:s,setQuestions:l});case Ce.MentorPanel:return p.createElement(Je,{editUser:a,handleFinishLoading:r,user:u,tags:c,answers:o,setAnswers:i});case Ce.Settings:return p.createElement(rt,Object.assign({user:u,editUser:a,tags:c,handleFinishLoading:r},d));default:return p.createElement("div",null,"NOT FOUND")}},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.loading;return p.createElement(C.x,{className:t.full,elevation:4},n&&p.createElement("div",{className:t.loadingContainer},p.createElement(C.g,{className:t.loading,size:96})),p.createElement("div",{className:be()(t.contentContainer,n&&t.hidden)},this.getTabContent()))}}]),t}(p.Component),it=Object(u.withStyles)(function(e){return{root:{},full:{height:"100%",width:"100%"},loading:{margin:"auto"},loadingContainer:{display:"flex",width:"25%",height:"25%",margin:"auto"},hidden:{display:"none"},contentContainer:{color:e.palette.text.primary,padding:2*e.spacing.unit}}})(ot),st=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.currentTab,a=e.handleClick,r=e.tabs;return p.createElement(C.x,{className:t.root,elevation:4},p.createElement(C.s,{className:t.profileTabList},r.filter(function(e){return isNaN(parseInt(e,10))}).map(function(e,r){return p.createElement(C.t,{key:r,onClick:function(){return a(e)},className:be()(n===e?t.selected:t.listItemHoverable,t.listItem)},p.createElement(C.u,{primary:e}))})))}}]),t}(p.Component),lt=Object(u.withStyles)(function(e){return{listItem:{paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit,borderLeftWidth:e.spacing.unit/2,borderLeftColor:"rgba(0,0,0,0)",borderLeftStyle:"solid",cursor:"pointer"},listItemHoverable:{"&:hover":{backgroundColor:Object(Ge.darken)(e.palette.background.paper,.1)}},profileTabList:{paddingTop:"0px",paddingBottom:"0px"},root:{position:"sticky",top:"110px"},selected:{backgroundColor:"light"===e.palette.type?Object(Ge.lighten)(e.palette.primary.main,.75):Object(Ge.darken)(e.palette.primary.main,.75),borderLeftColor:e.palette.primary.main}}})(st);!function(e){e.Home="Home",e.MentorPanel="Mentor Panel",e.Settings="Settings"}(Ce||(Ce={}));var ct,ut=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).inputRef=void 0,n.uploadFile=function(e){var t=n.props,a=t.editUser,o=t.user,i=n.inputRef.current.dataset.directUploadUrl;new He.DirectUpload(e,i).create(function(e,t){e?console.dir(e):(console.log(t),I()({method:"put",url:"/api/users/".concat(n.props.user.id),params:{avatar:t.signed_id}}).then(function(e){var n=Object(r.a)({},o);n.avatar_url="https://s3.ca-central-1.amazonaws.com/conch-avatars/".concat(t.key),a(n)}).catch(function(e){return console.log(e)}))})},n.changeCurrentTab=function(e){n.setState({currentTab:e})},n.handleClick=function(){n.inputRef.current.click()},n.handleFinishLoading=function(){console.log("Finished loading!"),n.isNotLoading()},n.handleStartLoading=function(){console.log("Loading data!"),n.isLoading()},n.isLoading=function(){n.setState({loading:!0})},n.isNotLoading=function(){n.setState({loading:!1},function(){return console.log("loading set to false")})},n.handleAvatarChange=function(e){if(e.target.files[0]){var t=e.target.files[0];n.uploadFile(t)}},n.getTabs=function(){var e=n.props.user,t=Object.values(Ce);return e.is_mentor?t:t.filter(function(e){return e!==Ce.MentorPanel})},n.state={currentTab:n.props.currentTab,loading:!0},n.inputRef=p.createRef(),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.currentTab,n=e.loading,a=this.props,r=a.classes,o=(a.currentTab,a.user),i=Object(Me.a)(a,["classes","currentTab","user"]),s=this.getTabs();return p.createElement(C.o,{item:!0,xs:11,className:r.root},p.createElement(C.o,{container:!0,spacing:24},p.createElement(C.o,{item:!0,xs:12},p.createElement("div",{className:r.profileHeader},p.createElement("div",{className:r.profileAvatarInputContainer,onClick:this.handleClick},p.createElement(C.b,{className:r.avatar,src:o.avatar_url}),p.createElement("input",{type:"file",ref:this.inputRef,style:{display:"none"},onChange:this.handleAvatarChange,accept:"image/*","data-direct-upload-url":"/rails/active_storage/direct_uploads"})),p.createElement("div",{className:r.profileHeaderText},p.createElement(C.H,{variant:"h3"},o.nickname),p.createElement(C.H,{variant:"h6"},o.email)))),p.createElement(C.o,{item:!0,xs:4,md:2},p.createElement(lt,{currentTab:t,handleClick:this.changeCurrentTab,tabs:s})),p.createElement(C.o,{item:!0,xs:8,md:10},p.createElement(it,Object.assign({currentTab:t,handleFinishLoading:this.handleFinishLoading,loading:n,user:o},i)))))}}]),t}(p.Component),pt=Object(u.withStyles)(function(e){var t;return{profileAvatarInputContainer:(t={height:"80px",width:"80px",borderRadius:"5px"},Object(z.a)(t,e.breakpoints.up("sm"),{height:"95px",width:"95px"}),Object(z.a)(t,e.breakpoints.up("md"),{height:"110px",width:"110px"}),Object(z.a)(t,e.breakpoints.up("lg"),{height:"125px",width:"125px"}),Object(z.a)(t,e.breakpoints.up("xl"),{height:"140px",width:"140px"}),Object(z.a)(t,"transition",e.transitions.create(["opacity"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.shortest})),Object(z.a)(t,"cursor","pointer"),Object(z.a)(t,"&:hover",{opacity:.45}),t),avatar:{height:"100%",width:"100%",borderRadius:"5px"},changeAvatarText:{fontWeight:"bolder",fontVariant:"small-caps",color:"white"},root:{marginTop:90+2*e.spacing.unit},profileHeader:{display:"flex"},profileHeaderText:{display:"flex",marginLeft:2*e.spacing.unit,marginRight:"auto",flexDirection:"column"}}})(ut),dt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.handleFinishLoading()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=(e.handleFinishLoading,Object(Me.a)(e,["classes","handleFinishLoading"]));return p.createElement("div",{className:t.root},p.createElement(C.o,{container:!0,justify:"center"},p.createElement(pt,n)))}}]),t}(p.Component),mt=Object(u.withStyles)(function(e){return{root:{width:"100%",marginTop:"-90px",display:"flex"}}})(dt);!function(e){e.NOT_SUBMITTED="NOT_SUBMITTED",e.SUBMITTED="SUBMITTED",e.ACCEPTED="ACCEPTED",e.ANSWERED="ANSWERED",e.RESOLVED="RESOLVED"}(ct||(ct={}));var ht,gt,bt,ft=n(174),Et=n.n(ft),vt={NOT_SUBMITTED:"Not submitted",SUBMITTED:"Connecting with a Mentor",ACCEPTED:"A Mentor is currently answering your question",ANSWERED:"Your question has been answered. If you are not satisfied with your answer, add a comment and select 'Resubmit'",RESOLVED:"Your question has been answered."},yt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={answerText:""},n.getTagById=function(e){for(var t=n.props.tags,a=t.length,r={},o=0;o<a;o+=1)if(t[o].id===e){r=t[o];break}return r},n._handleAnswerChange=function(e){n.setState({answerText:e.target.value})},n._handleSubmit=function(){if(!n.submitIsDisabled()){var e=n.state.answerText,t=n.props.result;I()({method:"post",url:"/api/questions/".concat(t.id,"/answers"),params:{content:e}}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}},n._handleAcceptAnswer=function(e){var t=n.props.updateQuestionAnswer;I()({method:"put",url:"/api/answers/".concat(e),params:{selected:!0}}).then(function(e){var n=e.data;t(n)}).catch(function(e){return console.log(e)})},n._handleRejectAnswer=function(e){var t=n.props.updateQuestionAnswer;I()({method:"put",url:"/api/answers/".concat(e),params:{selected:!1}}).then(function(e){var n=e.data;t(n)}).catch(function(e){return console.log(e)})},n.submitIsDisabled=function(){var e=n.state.answerText,t=n.props.result;return 0===e.length||t.question_status.status!==ct.ACCEPTED},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.answerText,n=this.props,a=n.answers,r=n.classes,o=n.user,i=n.result;return p.createElement(C.x,{className:r.root,elevation:4},o.is_mentor&&i.question_status.mentor_id===o.id?p.createElement(p.Fragment,null,p.createElement("div",{className:r.resultContent},p.createElement(C.H,{variant:"caption"},p.createElement("strong",null,"Question:")),i.title&&p.createElement(oe,null,p.createElement("textarea",{readOnly:!0,value:i.title,className:r.input})),p.createElement(oe,null,p.createElement(le.a,{readOnly:!0,value:i.content,className:r.input})),i.tags.map(function(t){return p.createElement(C.f,{key:t,className:r.chip,label:e.getTagById(t).name})}),p.createElement(C.H,{align:"right",variant:"caption"},p.createElement("strong",null,"Submitted:")," ",new Date(i.created_at).toLocaleDateString()," ",new Date(i.created_at).toLocaleTimeString())),a.length>0&&p.createElement("div",{className:r.resultContent},p.createElement(C.H,{variant:"caption"},p.createElement("strong",null,"Previous Answers:")),a.map(function(e,t){return p.createElement(oe,{key:t},p.createElement(le.a,{readOnly:!0,value:e.content,className:r.input}))})),p.createElement("div",{className:r.resultContent},p.createElement(C.H,{variant:"caption"},p.createElement("strong",null,"Your Answer:")),p.createElement(oe,null,p.createElement(le.a,{className:r.input,name:"answer",placeholder:"Enter Answer",autoFocus:!0,required:!0,value:t,onChange:this._handleAnswerChange}),p.createElement(C.G,{title:"Submit Answer",placement:"right"},p.createElement(C.p,{className:r.inputIcon,onClick:this._handleSubmit,disabled:this.submitIsDisabled(),tabIndex:-1},p.createElement(se.a,null)))))):p.createElement(p.Fragment,null,p.createElement("div",{className:r.resultHeader},p.createElement(C.H,{variant:"h5",style:{fontVariant:"small-caps"}},"Your Question has been submitted..."),p.createElement(C.H,{variant:"caption"},"Status: ",vt[i.question_status.status])),p.createElement("div",{className:r.resultContent},p.createElement(C.H,{variant:"caption"},p.createElement("strong",null,"Your Question:")),i.title&&p.createElement(oe,null,p.createElement("textarea",{readOnly:!0,value:i.title,className:r.input})),p.createElement(oe,null,p.createElement(le.a,{readOnly:!0,value:i.content,className:r.input})),i.tags.map(function(t){return p.createElement(C.f,{key:t,className:r.chip,label:e.getTagById(t).name})}),p.createElement(C.H,{align:"right",variant:"caption"},p.createElement("strong",null,"Submitted:")," ",new Date(i.created_at).toLocaleDateString()," ",new Date(i.created_at).toLocaleTimeString())),a.length>0&&!o.is_mentor&&p.createElement("div",{className:r.resultContent},p.createElement(C.H,{variant:"caption"},p.createElement("strong",null,"Answers:")),a.sort(function(e,t){return new Date(e.created_at)>new Date(t.created_at)?-1:1}).map(function(t,n){return p.createElement("div",{key:n,className:r.answer},p.createElement(oe,null,p.createElement(le.a,{readOnly:!0,value:t.content,className:r.input})),p.createElement("div",{className:r.answerActionsContainer},0===n?!1===t.selected?p.createElement("div",{className:r.answerActions},p.createElement(C.G,{title:"Accept Answer"},p.createElement(C.p,{color:"primary",onClick:function(){return e._handleAcceptAnswer(t.id)}},p.createElement(Et.a,null))),p.createElement(C.G,{title:"Reject Answer",onClick:function(){return e._handleRejectAnswer(t.id)}},p.createElement(C.p,{className:r.rejectAction},p.createElement(R.a,null)))):p.createElement(C.H,{variant:"caption",className:r.answerAccepted},p.createElement("strong",null,"Status: Accepted")):p.createElement(C.H,{variant:"caption",className:r.answerRejected},p.createElement("strong",null,"Status: Rejected"))),n!==a.length-1&&p.createElement("hr",{style:{marginTop:"5px",marginBottom:"5px"}}))}))))}}]),t}(p.Component),Ot=Object(u.withStyles)(function(e){return{answerActionsContainer:{display:"flex",width:"100%"},answerActions:{marginLeft:"auto"},chip:{backgroundColor:"rgba(0, 0, 0, 0)",borderColor:e.palette.primary.main,borderWidth:"1px",borderStyle:"solid",marginRight:e.spacing.unit/2,marginBottom:e.spacing.unit/2},root:{padding:2*e.spacing.unit,marginTop:"auto",marginBottom:"auto",width:"100%"},resultHeader:{textAlign:"center",marginBottom:2*e.spacing.unit},resultContent:{padding:2*e.spacing.unit},input:{backgroundColor:"transparent",border:"none",paddingTop:"16.5px",paddingBottom:"16.5px",color:e.palette.text.primary,wordWrap:"break-word",outline:"none",resize:"none",width:"calc(100% - 24px)",fontFamily:"monospace","&::placeholder":{opacity:.65,color:e.palette.text.primary}},rejectAction:{color:"#dc3545","&:hover":{backgroundColor:Object(Ge.lighten)("#dc3545",.75)}},answerAccepted:{color:"green",marginLeft:"auto"},answerRejected:{color:"#dc3545",marginLeft:"auto"}}})(yt),St=fe.a.div({hidden:{opacity:0,transition:{duration:350}},visible:{opacity:1,transition:{duration:350}}}),jt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).signal=I.a.CancelToken.source(),n.state={answers:[],visible:!1,question:{}},n.getQuestionData=function(){var e=n.props,t=e.handleFinishLoading,a=e.questions,r=e.setQuestions,o=e.questionId;if(o){var i=parseInt(o,10);_(i,function(e){var o=Object(v.a)(a),s=o.findIndex(function(e){return e.id===i});-1!==s&&(o[s]=e,r(o)),n.setState({question:e},function(){var a=e.question_status.status;a===ct.ANSWERED||a===ct.RESOLVED?L(i,function(e){n.setState({answers:e,visible:!0}),t()}):(t(),n.setState({visible:!0}))})},n.signal)}},n.updateQuestionAnswer=function(e){var t=Object(v.a)(n.state.answers),a=t.findIndex(function(t){return t.id===e.id});-1!==a&&(t[a]=e),n.setState({answers:t})},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getQuestionData()}},{key:"componentWillUnmount",value:function(){this.signal.cancel("Result status request cancelled")}},{key:"render",value:function(){var e=this.state,t=e.answers,n=e.visible,a=e.question,r=this.props,o=r.classes,i=r.questionId,s=r.user,l=r.tags;return p.createElement(C.o,{item:!0,xs:12,sm:6,md:4,lg:4,className:o.root},i?p.createElement(St,{className:be()(o.container,o.vCenter),pose:n?"visible":"hidden"},n&&a&&p.createElement(Ot,{answers:t,result:a,tags:l,user:s,updateQuestionAnswer:this.updateQuestionAnswer})):p.createElement("div",null,"no questionId provided"))}}]),t}(p.Component),Tt=Object(u.withStyles)(function(e){return{root:{display:"flex"},vCenter:{marginTop:"auto",marginBottom:"auto"},container:{width:"100%"}}})(jt),wt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleFinishLoading,a=e.questionId,r=e.user,o=e.questions,i=e.tags,s=e.setQuestions;return p.createElement("div",{className:t.root},p.createElement(C.o,{container:!0,justify:"center"},p.createElement(Tt,{tags:i,questions:o,setQuestions:s,handleFinishLoading:n,questionId:a,user:r})))}}]),t}(p.Component),xt=Object(u.withStyles)(function(e){return{root:{height:"100%",width:"100%",display:"flex",marginTop:"-45px"}}})(wt),Ct=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,tags:[]},n.handleFinishedLoading=function(){console.log("Finished loading!"),n.isNotLoading()},n.handleStartLoading=function(){console.log("Loading data!"),n.isLoading()},n.isLoading=function(){n.setState({loading:!0})},n.isNotLoading=function(){n.setState({loading:!1})},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;I()("/api/tags").then(function(t){var n=t.data;e.setState({tags:n})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.editUser,r=t.setTimeZone,o=t.toggleTheme,i=t.user,s=t.userSettings,l=t.answers,c=t.setAnswers,u=t.questions,d=t.setQuestions,m=t.addQuestion,h=this.state,g=h.loading,b=h.tags;return p.createElement("div",{className:n.root},p.createElement(p.Fragment,null,g&&p.createElement("div",{className:n.loadingContainer},p.createElement(C.g,{className:n.loading,size:96})),p.createElement("div",{className:be()(n.switchContainer,g&&n.hidden)},p.createElement(N.d,null,p.createElement(N.b,{exact:!0,path:"/",render:function(){return i?p.createElement(Be,{addQuestion:m,handleFinishLoading:e.handleFinishedLoading,tags:b}):p.createElement(N.a,{to:"/login"})}}),p.createElement(N.b,{path:"/login",render:function(){return p.createElement(ae,{handleFinishLoading:e.handleFinishedLoading,handleSignIn:e.props.handleSignIn})}}),p.createElement(N.b,{path:"/profile",render:function(t){return function(t){var n=t.location.state;return i?p.createElement(mt,{questions:u,answers:l,setQuestions:d,setAnswers:c,currentTab:n?n.currentTab&&n.currentTab:Ce.Home,editUser:a,mentorDialogOpen:!!n&&n.mentorDialogOpen&&n.mentorDialogOpen,handleFinishLoading:e.handleFinishedLoading,setTimeZone:r,tags:b,toggleTheme:o,user:i,userSettings:s}):p.createElement(N.a,{to:"/login"})}(t)}}),p.createElement(N.b,{path:"/queue",render:function(){return p.createElement(Pe,{tags:b})}}),p.createElement(N.b,{path:"/results/:questionId",render:function(t){return function(t){var n=t.match.params.questionId;return i?p.createElement(xt,{key:n,tags:b,setQuestions:d,questions:u,questionId:n,user:i,handleFinishLoading:e.handleFinishedLoading}):p.createElement(N.a,{to:"/login"})}(t)}}),p.createElement(N.b,{key:"empty",path:"/empty",render:function(e){return p.createElement(N.a,{to:"".concat(e.location.state.previous)})}})))))}}]),t}(p.Component),Nt=Object(N.f)(Object(u.withStyles)(function(e){return{root:{marginTop:"90px",width:"100%",display:"flex"},loading:{margin:"auto"},loadingContainer:{display:"flex",width:"25%",height:"25%",margin:"auto"},switchContainer:{display:"flex",width:"100%"},hidden:{display:"none"}}})(Ct)),kt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.logoColor;return p.createElement(C.F,{className:t.toolbar},p.createElement(W.b,{to:"/"},p.createElement("img",{className:t.appBarLogo,src:"https://s3.ca-central-1.amazonaws.com/conch-resources/conch_logo_".concat(n,".png")})),p.createElement("div",{className:t.marginLeftAuto},this.props.children))}}]),t}(p.Component),It=Object(u.withStyles)(function(e){return{root:{},appBarLogo:{height:"64px"},toolbar:{display:"flex",marginTop:"auto",marginBottom:"auto"},marginLeftAuto:{marginLeft:"auto",display:"flex"}}})(kt),Dt=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={scrollTop:0},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",function(){e.setState({scrollTop:document.documentElement.scrollTop})})}},{key:"render",value:function(){var e=this.state.scrollTop,t=this.props,n=t.children,a=t.classes,r=t.isTransparent||0===e,o=t.theme===Kt.LIGHT?"purple":"white";return p.createElement(C.a,{position:"fixed",className:be()(a.appBar,r&&a.appBarTransparent)},p.createElement(It,{logoColor:o},n))}}]),t}(p.Component),At=Object(u.withStyles)(function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),height:"90px",paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit,backgroundColor:e.palette.background.paper},appBarShift:{marginLeft:280,width:"calc(100% - ".concat(280,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarTransparent:{backgroundColor:"rgba(0,0,0,0)",boxShadow:"none"},appBarLogo:{height:"64px"},toolbar:{display:"flex",marginTop:"auto",marginBottom:"auto"},marginLeftAuto:{marginLeft:"auto",display:"flex"},addressContainer:{marginRight:4*e.spacing.unit,"& > p,h3,span":{color:"white"},"& > h3":{fontSize:"1rem",fontWeight:"bold"}},addressLabel:{textAlign:"right"},lightIcon:{color:e.palette.primary.main},darkIcon:{color:e.palette.text.primary}}})(Dt),_t=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.user;return p.createElement("div",{className:t.root},p.createElement(C.b,{className:t.avatar,src:n.avatar_url}),p.createElement("div",{className:t.userInfo},p.createElement(C.H,{className:t.userNickName},n.nickname),p.createElement(C.H,{className:t.userStatus,variant:"caption"},n.is_mentor?"Mentor":"Client")))}}]),t}(p.Component),Lt=Object(u.withStyles)(function(e){return{avatar:{height:"40px",width:"40px",borderRadius:"5px"},root:{padding:2*e.spacing.unit,paddingTop:e.spacing.unit,display:"flex"},userInfo:{marginLeft:e.spacing.unit},userNickName:{fontWeight:"bold"},userStatus:{}}})(_t),Ut=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.anchorEl,n=e.classes,a=e.handleClick,r=e.handleClose,o=e.handleSignOut,i=e.location,s=e.theme,l=e.user;return p.createElement("div",{className:be()(n.navBarAccountContainers,s===Kt.DARK&&n.whiteText)},"/login"===i.pathname||"/register"===i.pathname?null:l&&p.createElement(p.Fragment,null,p.createElement("div",{className:n.spacing},p.createElement("div",{className:n.userAccount,onClick:a},p.createElement(C.b,{className:n.avatar,src:l.avatar_url}))),p.createElement(C.v,{id:"accountOptions-menu",className:n.accountMenu,anchorEl:t,open:Boolean(t),onClose:function(){return r()},classes:{paper:n.menuList}},p.createElement(Lt,{user:l}),p.createElement(W.b,{className:n.link,to:"/profile",onClick:function(){return r()}},p.createElement(C.w,null,"Profile")),p.createElement(C.w,{onClick:function(){return r(o)}},"Sign Out"))))}}]),t}(p.Component),Rt=Object(N.f)(Object(u.withStyles)(function(e){return{root:{},link:{textDecoration:"none"},avatar:{margin:"auto",borderRadius:"5px"},accountMenuButtonContainer:{display:"flex","& .root:hover":{backgroundColor:"rgba(0,0,0,0)"}},accountMenuButton:{color:e.palette.primary.main,fontSize:"1.25rem",fontWeight:"bold"},whiteText:{"& *":{color:"white"}},verticalDivider:{marginLeft:"15px",marginRight:"15px",marginTop:"auto",marginBottom:"auto",fontSize:"1.5rem",fontWeight:"lighter"},menuList:{marginTop:"60px"},spacing:{marginLeft:2*e.spacing.unit},userAccount:{display:"flex",cursor:"pointer",padding:e.spacing.unit/2,"&:hover":{backgroundColor:Object(Ge.darken)(e.palette.background.default,.1)}}}})(Ut)),Bt=n(175),qt=n.n(Bt),Qt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.location,n=e.unread;return p.createElement(C.G,{title:"My Answers"},p.createElement(W.b,{to:{pathname:"/profile",state:{currentTab:Ce.MentorPanel}},replace:"/profile"===t.pathname},p.createElement(C.p,null,p.createElement(C.c,{badgeContent:n,color:"primary"},p.createElement(qt.a,null)))))}}]),t}(p.Component),Ft=Object(N.f)(Object(u.withStyles)(function(e){return{root:{}}})(Qt)),Pt=n(176),Mt=n.n(Pt),Ht=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.location,n=e.unread;return p.createElement(C.G,{title:"My Questions"},p.createElement(W.b,{to:{pathname:"/profile",state:{currentTab:Ce.Home}},replace:"/profile"===t.pathname},p.createElement(C.p,null,p.createElement(C.c,{badgeContent:n,color:"primary"},p.createElement(Mt.a,null)))))}}]),t}(p.Component),Gt=Object(N.f)(Object(u.withStyles)(function(e){return{root:{}}})(Ht)),Wt=n(177),zt=n.n(Wt),Yt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.location;return console.log(e.pathname),p.createElement(C.G,{title:"Become a Mentor"},p.createElement(W.b,{to:{pathname:"/profile",state:{currentTab:Ce.Settings,mentorDialogOpen:!0}},replace:"/profile"===e.pathname},p.createElement(C.p,null,p.createElement(zt.a,null))))}}]),t}(p.Component),Vt=Object(N.f)(Object(u.withStyles)(function(e){return{root:{}}})(Yt)),Zt=n(178),Xt=n.n(Zt);!function(e){e.NOT_IN_QUEUE="NOT_IN_QUEUE",e.IN_QUEUE="IN_QUEUE",e.BUSY="BUSY"}(bt||(bt={}));var Kt,Jt=(ht={},Object(z.a)(ht,bt.NOT_IN_QUEUE,"Join Question Queue"),Object(z.a)(ht,bt.IN_QUEUE,"Leave Queue"),Object(z.a)(ht,bt.BUSY,"Question in Progress"),ht),$t=(gt={},Object(z.a)(gt,bt.NOT_IN_QUEUE,"queueDefault"),Object(z.a)(gt,bt.IN_QUEUE,"queueReady"),Object(z.a)(gt,bt.BUSY,"queueBusy"),gt),en=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={interval:null,pending:!1,queueStatus:bt.NOT_IN_QUEUE,timeInQueue:0},n.setStatus=function(e){"IN_QUEUE"===e?n.setToInQueue():"NOT_IN_QUEUE"===e?n.setToNotInQueue():n.setToBusy()},n.startTimer=function(){var e=setInterval(function(){return n.setState(function(e){return{timeInQueue:e.timeInQueue+1}})},1e3);n.setState({interval:e})},n.stopAndClearTimer=function(){var e=n.state.interval;e&&(clearInterval(e),n.setState({timeInQueue:0}))},n.setToInQueue=function(){n.setState({queueStatus:bt.IN_QUEUE},function(){return n.startTimer()})},n.setToNotInQueue=function(){n.setState({queueStatus:bt.NOT_IN_QUEUE},function(){return n.stopAndClearTimer()})},n.setToBusy=function(){n.setState({queueStatus:bt.BUSY},function(){return n.stopAndClearTimer()})},n.toggleQueueStatus=function(){n.setState({pending:!0},function(){I()({method:"post",url:"/api/join_queue"}).then(function(e){var t=e.data;n.setStatus(t)}).catch(function(e){return console.log(e)}).finally(function(){return n.setState({pending:!1})})})},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;I()({method:"get",url:"/api/join_queue"}).then(function(t){var n=t.data;e.setStatus(n)}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.pending,n=e.queueStatus,a=e.timeInQueue,r=this.props.classes;return p.createElement(p.Fragment,null,n!==bt.NOT_IN_QUEUE&&p.createElement("div",{className:r.timeInQueue},p.createElement(C.H,{className:r.queueLabel,variant:"caption"},"Time in Queue:"),p.createElement(C.H,{className:r.queueTimer},a)),t?p.createElement(C.d,{className:r.pendingBtn,disabled:!0},p.createElement(Xt.a,{className:r.pendingIcon})," Working"):p.createElement(C.d,{onClick:this.toggleQueueStatus,className:r[$t[n]],variant:"outlined"},Jt[n]))}}]),t}(p.Component),tn=Object(u.withStyles)(function(e){return{root:{},"@keyframes spin":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},queueDefault:{color:e.palette.primary.main,borderColor:e.palette.primary.main},queueReady:{color:e.palette.text.primary,borderColor:e.palette.text.primary},queueBusy:{color:"red",borderColor:"red"},pendingIcon:{animationName:"$spin"},timeInQueue:{display:"flex",flexWrap:"wrap",textAlign:"right",marginRight:2*e.spacing.unit},queueTimer:{fontSize:"1em",width:"100%"},queueLabel:{fontSize:"0.75em",width:"100%"}}})(en),nn=n(179),an=n.n(nn),rn=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).pubNub=void 0,n.finishLoading=function(){n.setState({loading:!1})},n.navBarHandleClick=function(e){n.setState({navBarAnchorEl:e.currentTarget})},n.navBarHandleClose=function(e){n.setState({navBarAnchorEl:void 0},e)},n.handleSignIn=function(e){var t=n.props,a=t.location,r=t.history;e.avatar_url&&""!==e.avatar_url||(e.avatar_url="https://www.wittenberg.edu/sites/default/files/2017-11/nouser_0.jpg"),n.setState({user:e},function(){n.pubNubSub(),n.getUserData(function(){"/login"!==a.pathname&&"/register"!==a.pathname||r.push("/")})})},n.getUserData=function(e){var t=n.state.user;t&&(D(t.id,function(e){n.setQuestions(e)}),t.is_mentor&&A(t.id,function(e){n.setAnswers(e)})),n.setState({loading:!1}),console.log("[getUserData] callback"),e()},n.setQuestions=function(e){n.setState({questions:e})},n.addQuestion=function(e){var t=[].concat(Object(v.a)(n.state.questions),[e]);n.setState({questions:t})},n.setAnswers=function(e){n.setState({answers:e})},n.pubNubSub=function(){var e=n.state.user;if(e){var t=[],a="user-".concat(e.id),r="".concat(a,"-mentor");e.is_mentor&&t.push(r);var o="".concat(a,"-client");t.push(o),n.pubNub.subscribe({channels:t}),n.pubNub.getMessage(o,function(e){n.handlePubNubMsgAsClient(e)}),e.is_mentor&&n.pubNub.getMessage(r,function(e){n.handlePubNubMsgAsMentor(e)})}},n.handlePubNubMsgAsClient=function(e){var t=n.props.location,r=e.message,o=r.status,i=r.question_id;if(Object.keys(a).includes(o)){n.setState({snackbarQuestionId:i,snackbarOpen:!0,snackbarText:"If you are getting this message, please contact support. Client channels should not receive updates about answer statuses."})}else{n.setState({snackbarQuestionId:i,snackbarOpen:!0,snackbarText:{NOT_SUBMITTED:"This should never show up!",SUBMITTED:"Your question has been submitted. Should never show up!",ACCEPTED:"Your question has been accepted by a mentor. Awaiting answer...",ANSWERED:"Your question has been answered by a mentor. Please accept or reject the answer.",RESOLVED:"Your question has been resolved successfully."}[o]}),t.pathname==="/results/".concat(i)&&window.location.reload()}},n.handlePubNubMsgAsMentor=function(e){console.log("[handlePubNubMsgAsMentor]");var t=e.message,r=t.status,o=t.question_id;if(Object.keys(a).includes(r)){var i=r===a.PASSED?"One of your answers has been declined.":"One of your answers has been accepted.";console.log(r,a.PASSED),n.setState({snackbarQuestionId:o,snackbarOpen:!0,snackbarText:i})}else{n.setState({snackbarQuestionId:o,snackbarOpen:!0,snackbarText:{NOT_SUBMITTED:"This should never show up!",SUBMITTED:"Your question has been submitted. Should never show up!",ACCEPTED:"You have been assigned to a question. Good luck!",ANSWERED:"You have submitted your answer to a question. Probably don't need to show this.",RESOLVED:"One of your questions has been accepted. This is from the question side, can probably remove"}[r]})}},n.handleSignOut=function(){I()({method:"post",url:"/logout"}).catch(function(e){return console.log(e)}).finally(function(){n.setState({user:null},function(){return n.props.history.push("/")})})},n.editUser=function(e){n.setState({user:e})},n.handleSnackbarClose=function(){n.setState({snackbarOpen:!1})},n.state={answers:[],pn_messages:{},loading:!0,snackbarQuestionId:void 0,snackbarOpen:!1,snackbarText:"placeholder text",questions:[],navBarAnchorEl:void 0,user:null},n.pubNub=new an.a({publishKey:"pub-c-b3773bad-955a-4ee6-907a-72fa89daa2bd",subscribeKey:"sub-c-9cef740a-58a2-11e9-af7f-e675e2b0822b"}),n.pubNub.init(Object(y.a)(Object(y.a)(n))),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;I()({method:"post",url:"/login",params:{}}).then(function(t){var n=t.data,a=n.id,r=n.avatar_url,o=n.nickname,i=n.email,s=n.phone,l=n.is_mentor,c=n.tags;e.handleSignIn({id:a,nickname:o,email:i,phone:s,avatar_url:r,is_mentor:l,tags:c})}).catch(function(e){return console.log(e)}).finally(function(){return e.finishLoading()})}},{key:"componentWillUnmount",value:function(){var e=this.state.user;if(e){var t=[],n="user-".concat(e.id);if(e.is_mentor){var a="".concat(n,"-mentor");t.push(a)}var r="".concat(n,"-client");t.push(r),this.pubNub.unsubscribe({channels:t})}}},{key:"render",value:function(){var e=this.state,t=e.answers,n=e.navBarAnchorEl,a=e.loading,r=e.snackbarOpen,o=e.snackbarQuestionId,i=e.snackbarText,s=e.questions,l=e.user,c=this.props,u=c.classes,p=c.location,m=c.setTimeZone,h=c.toggleTheme,g=c.userSettings,b=g.themeType,f="/"===p.pathname;return d.a.createElement("div",{className:u.root},a?d.a.createElement("div",{className:u.loadingContainer},d.a.createElement(C.g,{className:u.loading,size:96})):d.a.createElement(d.a.Fragment,null,d.a.createElement(At,{isTransparent:f,toggleTheme:h,theme:b},l?l.is_mentor?d.a.createElement(d.a.Fragment,null,d.a.createElement(tn,null),d.a.createElement(Gt,{unread:s.filter(function(e){return e.is_dirty}).length})):d.a.createElement(d.a.Fragment,null,d.a.createElement(Ft,{unread:0}),d.a.createElement(Vt,null)):null,d.a.createElement(Rt,{anchorEl:n,handleClick:this.navBarHandleClick,handleClose:this.navBarHandleClose,handleSignOut:this.handleSignOut,isTransparent:f,theme:b,user:l})),d.a.createElement(Nt,{user:l,userSettings:g,handleSignIn:this.handleSignIn,setTimeZone:m,toggleTheme:h,editUser:this.editUser,questions:s,answers:t,addQuestion:this.addQuestion,setQuestions:this.setQuestions,setAnswers:this.setAnswers}),d.a.createElement(C.y,{anchorOrigin:{vertical:"top",horizontal:"center"},open:r,autoHideDuration:6e3,onClose:this.handleSnackbarClose},d.a.createElement(C.z,{className:u.snackbarContent,message:d.a.createElement("span",{id:"client-snackbar",className:u.snackbarMessage},"\ud83d\udc1a ",i),action:[d.a.createElement(W.b,{key:o,to:"/results/".concat(o),style:{textDecoration:"none"}},d.a.createElement(C.d,{color:"primary",variant:"text",size:"small"},"Go To Question")),d.a.createElement(C.p,{key:"close",color:"inherit",onClick:this.handleSnackbarClose},d.a.createElement(R.a,null))]})),d.a.createElement(G,{theme:b,toggleTheme:h})))}}]),t}(p.Component),on=Object(N.f)(Object(u.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.default,minHeight:"100%",display:"flex"},loading:{margin:"auto"},loadingContainer:{display:"flex",width:"25%",height:"25%",margin:"auto"}}})(rn));!function(e){e[e.LIGHT=0]="LIGHT",e[e.DARK=1]="DARK"}(Kt||(Kt={}));var sn=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={userSettings:{themeType:Kt.LIGHT}},n.getAllSettings=function(){var e=n.state.userSettings,t={themeType:Kt.LIGHT},a={timeZone:"America/Toronto"};Object.keys(t).map(function(a){var r=localStorage.getItem(a)||t[a],o=parseInt(r,10);e[a]=o,n.setState({userSettings:e})}),Object.keys(a).map(function(t){var r=localStorage.getItem(t)||a[t];e[t]=r,n.setState({userSettings:e})})},n.toggleTheme=function(){var e=Object(r.a)({},n.state.userSettings);e.themeType=1-e.themeType,n.setState({userSettings:e},function(){return localStorage.setItem("themeType","".concat(e.themeType))})},n.setTimeZone=function(e){var t=Object(r.a)({},n.state.userSettings);t.timeZone=e,n.setState({userSettings:t},function(){return localStorage.setItem("timeZone","".concat(t.timeZone))})},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllSettings()}},{key:"render",value:function(){var e=this.state.userSettings,t=function(e){var t=e===Kt.LIGHT?"light":"dark";return Object(u.createMuiTheme)({palette:{type:t,primary:{main:h.a[300]},secondary:b.a,error:E.a,contrastThreshold:3,tonalOffset:.2},typography:{useNextVariants:!0}})}(e.themeType);return p.createElement(u.MuiThemeProvider,{theme:t},p.createElement(on,{toggleTheme:this.toggleTheme,setTimeZone:this.setTimeZone,userSettings:e}))}}]),t}(p.Component),ln=Object(u.withStyles)(function(e){return{root:{}}})(sn),cn=n(30),un=n.n(cn);I.a.defaults.baseURL="https://magic-conch-server.herokuapp.com/",I.a.defaults.withCredentials=!0,I.a.interceptors.request.use(function(e){return console.log("[Request Success]"),console.log(e),e},function(e){return console.log("[Request Error]"),console.log(e),Promise.reject(e)}),I.a.interceptors.response.use(function(e){return console.log("[Response Success]"),console.log(e),e},function(e){return console.log("[Response Error]"),console.log(e),Promise.reject(e)});var pn=d.a.createElement(W.a,null,d.a.createElement(ln,null));un.a.render(pn,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[237,1,2]]]);
//# sourceMappingURL=main.29e69fb4.chunk.js.map